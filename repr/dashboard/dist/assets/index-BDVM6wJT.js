(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xs(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const q={},ct=[],Pe=()=>{},mi=()=>!1,as=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zs=e=>e.startsWith("onUpdate:"),le=Object.assign,en=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Vo=Object.prototype.hasOwnProperty,U=(e,t)=>Vo.call(e,t),j=Array.isArray,kt=e=>cs(e)==="[object Map]",Uo=e=>cs(e)==="[object Set]",L=e=>typeof e=="function",ie=e=>typeof e=="string",gt=e=>typeof e=="symbol",Z=e=>e!==null&&typeof e=="object",vi=e=>(Z(e)||L(e))&&L(e.then)&&L(e.catch),Ko=Object.prototype.toString,cs=e=>Ko.call(e),Wo=e=>cs(e).slice(8,-1),Jo=e=>cs(e)==="[object Object]",tn=e=>ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,St=Xs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ds=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},zo=/-\w/g,Ge=ds(e=>e.replace(zo,t=>t.slice(1).toUpperCase())),Go=/\B([A-Z])/g,nt=ds(e=>e.replace(Go,"-$1").toLowerCase()),yi=ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),Es=ds(e=>e?`on${yi(e)}`:""),Je=(e,t)=>!Object.is(e,t),Ts=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},bi=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},qo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let An;const us=()=>An||(An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(e){if(j(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=ie(i)?Zo(i):sn(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(ie(e)||Z(e))return e}const Yo=/;(?![^(]*\))/g,Qo=/:([^]+)/,Xo=/\/\*[^]*?\*\//g;function Zo(e){const t={};return e.replace(Xo,"").split(Yo).forEach(s=>{if(s){const i=s.split(Qo);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function nn(e){let t="";if(ie(e))t=e;else if(j(e))for(let s=0;s<e.length;s++){const i=nn(e[s]);i&&(t+=i+" ")}else if(Z(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const er="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tr=Xs(er);function wi(e){return!!e||e===""}/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let he;class xi{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=he,!t&&he&&(this.index=(he.scopes||(he.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=he;try{return he=this,t()}finally{he=s}}}on(){++this._on===1&&(this.prevScope=he,he=this)}off(){this._on>0&&--this._on===0&&(he=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function sr(e){return new xi(e)}function nr(){return he}let G;const $s=new WeakSet;class _i{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,he&&he.active&&he.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$s.has(this)&&($s.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Si(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dn(this),Ci(this);const t=G,s=we;G=this,we=!0;try{return this.fn()}finally{Ei(this),G=t,we=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ln(t);this.deps=this.depsTail=void 0,Dn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$s.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Os(this)&&this.run()}get dirty(){return Os(this)}}let ki=0,Ct,Et;function Si(e,t=!1){if(e.flags|=8,t){e.next=Et,Et=e;return}e.next=Ct,Ct=e}function on(){ki++}function rn(){if(--ki>0)return;if(Et){let t=Et;for(Et=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ct;){let t=Ct;for(Ct=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function Ci(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ei(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),ln(i),ir(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function Os(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ti(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ti(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===At)||(e.globalVersion=At,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Os(e))))return;e.flags|=2;const t=e.dep,s=G,i=we;G=e,we=!0;try{Ci(e);const n=e.fn(e._value);(t.version===0||Je(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{G=s,we=i,Ei(e),e.flags&=-3}}function ln(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ln(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ir(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let we=!0;const $i=[];function Oe(){$i.push(we),we=!1}function Le(){const e=$i.pop();we=e===void 0?!0:e}function Dn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=G;G=void 0;try{t()}finally{G=s}}}let At=0;class or{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class an{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!G||!we||G===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==G)s=this.activeLink=new or(G,this),G.deps?(s.prevDep=G.depsTail,G.depsTail.nextDep=s,G.depsTail=s):G.deps=G.depsTail=s,Ii(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=G.depsTail,s.nextDep=void 0,G.depsTail.nextDep=s,G.depsTail=s,G.deps===s&&(G.deps=i)}return s}trigger(t){this.version++,At++,this.notify(t)}notify(t){on();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{rn()}}}function Ii(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Ii(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ls=new WeakMap,st=Symbol(""),js=Symbol(""),Dt=Symbol("");function oe(e,t,s){if(we&&G){let i=Ls.get(e);i||Ls.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new an),n.map=i,n.key=s),n.track()}}function Re(e,t,s,i,n,o){const l=Ls.get(e);if(!l){At++;return}const a=c=>{c&&c.trigger()};if(on(),t==="clear")l.forEach(a);else{const c=j(e),p=c&&tn(s);if(c&&s==="length"){const f=Number(i);l.forEach((w,T)=>{(T==="length"||T===Dt||!gt(T)&&T>=f)&&a(w)})}else switch((s!==void 0||l.has(void 0))&&a(l.get(s)),p&&a(l.get(Dt)),t){case"add":c?p&&a(l.get("length")):(a(l.get(st)),kt(e)&&a(l.get(js)));break;case"delete":c||(a(l.get(st)),kt(e)&&a(l.get(js)));break;case"set":kt(e)&&a(l.get(st));break}}rn()}function rt(e){const t=V(e);return t===e?t:(oe(t,"iterate",Dt),xe(e)?t:t.map(je))}function cn(e){return oe(e=V(e),"iterate",Dt),e}function Ve(e,t){return qe(e)?Ft(dt(e)?je(t):t):je(t)}const rr={__proto__:null,[Symbol.iterator](){return Is(this,Symbol.iterator,e=>Ve(this,e))},concat(...e){return rt(this).concat(...e.map(t=>j(t)?rt(t):t))},entries(){return Is(this,"entries",e=>(e[1]=Ve(this,e[1]),e))},every(e,t){return De(this,"every",e,t,void 0,arguments)},filter(e,t){return De(this,"filter",e,t,s=>s.map(i=>Ve(this,i)),arguments)},find(e,t){return De(this,"find",e,t,s=>Ve(this,s),arguments)},findIndex(e,t){return De(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return De(this,"findLast",e,t,s=>Ve(this,s),arguments)},findLastIndex(e,t){return De(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return De(this,"forEach",e,t,void 0,arguments)},includes(...e){return Bs(this,"includes",e)},indexOf(...e){return Bs(this,"indexOf",e)},join(e){return rt(this).join(e)},lastIndexOf(...e){return Bs(this,"lastIndexOf",e)},map(e,t){return De(this,"map",e,t,void 0,arguments)},pop(){return wt(this,"pop")},push(...e){return wt(this,"push",e)},reduce(e,...t){return Fn(this,"reduce",e,t)},reduceRight(e,...t){return Fn(this,"reduceRight",e,t)},shift(){return wt(this,"shift")},some(e,t){return De(this,"some",e,t,void 0,arguments)},splice(...e){return wt(this,"splice",e)},toReversed(){return rt(this).toReversed()},toSorted(e){return rt(this).toSorted(e)},toSpliced(...e){return rt(this).toSpliced(...e)},unshift(...e){return wt(this,"unshift",e)},values(){return Is(this,"values",e=>Ve(this,e))}};function Is(e,t,s){const i=cn(e),n=i[t]();return i!==e&&!xe(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const lr=Array.prototype;function De(e,t,s,i,n,o){const l=cn(e),a=l!==e&&!xe(e),c=l[t];if(c!==lr[t]){const w=c.apply(e,o);return a?je(w):w}let p=s;l!==e&&(a?p=function(w,T){return s.call(this,Ve(e,w),T,e)}:s.length>2&&(p=function(w,T){return s.call(this,w,T,e)}));const f=c.call(l,p,i);return a&&n?n(f):f}function Fn(e,t,s,i){const n=cn(e);let o=s;return n!==e&&(xe(e)?s.length>3&&(o=function(l,a,c){return s.call(this,l,a,c,e)}):o=function(l,a,c){return s.call(this,l,Ve(e,a),c,e)}),n[t](o,...i)}function Bs(e,t,s){const i=V(e);oe(i,"iterate",Dt);const n=i[t](...s);return(n===-1||n===!1)&&pn(s[0])?(s[0]=V(s[0]),i[t](...s)):n}function wt(e,t,s=[]){Oe(),on();const i=V(e)[t].apply(e,s);return rn(),Le(),i}const ar=Xs("__proto__,__v_isRef,__isVue"),Bi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gt));function cr(e){gt(e)||(e=String(e));const t=V(this);return oe(t,"has",e),t.hasOwnProperty(e)}class Pi{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?br:Fi:o?Di:Ai).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const l=j(t);if(!n){let c;if(l&&(c=rr[s]))return c;if(s==="hasOwnProperty")return cr}const a=Reflect.get(t,s,re(t)?t:i);if((gt(s)?Bi.has(s):ar(s))||(n||oe(t,"get",s),o))return a;if(re(a)){const c=l&&tn(s)?a:a.value;return n&&Z(c)?Ns(c):c}return Z(a)?n?Ns(a):un(a):a}}class Mi extends Pi{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];const l=j(t)&&tn(s);if(!this._isShallow){const p=qe(o);if(!xe(i)&&!qe(i)&&(o=V(o),i=V(i)),!l&&re(o)&&!re(i))return p||(o.value=i),!0}const a=l?Number(s)<t.length:U(t,s),c=Reflect.set(t,s,i,re(t)?t:n);return t===V(n)&&(a?Je(i,o)&&Re(t,"set",s,i):Re(t,"add",s,i)),c}deleteProperty(t,s){const i=U(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Re(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!gt(s)||!Bi.has(s))&&oe(t,"has",s),i}ownKeys(t){return oe(t,"iterate",j(t)?"length":st),Reflect.ownKeys(t)}}class dr extends Pi{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ur=new Mi,fr=new dr,pr=new Mi(!0);const Hs=e=>e,Wt=e=>Reflect.getPrototypeOf(e);function hr(e,t,s){return function(...i){const n=this.__v_raw,o=V(n),l=kt(o),a=e==="entries"||e===Symbol.iterator&&l,c=e==="keys"&&l,p=n[e](...i),f=s?Hs:t?Ft:je;return!t&&oe(o,"iterate",c?js:st),le(Object.create(p),{next(){const{value:w,done:T}=p.next();return T?{value:w,done:T}:{value:a?[f(w[0]),f(w[1])]:f(w),done:T}}})}}function Jt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function gr(e,t){const s={get(n){const o=this.__v_raw,l=V(o),a=V(n);e||(Je(n,a)&&oe(l,"get",n),oe(l,"get",a));const{has:c}=Wt(l),p=t?Hs:e?Ft:je;if(c.call(l,n))return p(o.get(n));if(c.call(l,a))return p(o.get(a));o!==l&&o.get(n)},get size(){const n=this.__v_raw;return!e&&oe(V(n),"iterate",st),n.size},has(n){const o=this.__v_raw,l=V(o),a=V(n);return e||(Je(n,a)&&oe(l,"has",n),oe(l,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const l=this,a=l.__v_raw,c=V(a),p=t?Hs:e?Ft:je;return!e&&oe(c,"iterate",st),a.forEach((f,w)=>n.call(o,p(f),p(w),l))}};return le(s,e?{add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear")}:{add(n){!t&&!xe(n)&&!qe(n)&&(n=V(n));const o=V(this);return Wt(o).has.call(o,n)||(o.add(n),Re(o,"add",n,n)),this},set(n,o){!t&&!xe(o)&&!qe(o)&&(o=V(o));const l=V(this),{has:a,get:c}=Wt(l);let p=a.call(l,n);p||(n=V(n),p=a.call(l,n));const f=c.call(l,n);return l.set(n,o),p?Je(o,f)&&Re(l,"set",n,o):Re(l,"add",n,o),this},delete(n){const o=V(this),{has:l,get:a}=Wt(o);let c=l.call(o,n);c||(n=V(n),c=l.call(o,n)),a&&a.call(o,n);const p=o.delete(n);return c&&Re(o,"delete",n,void 0),p},clear(){const n=V(this),o=n.size!==0,l=n.clear();return o&&Re(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=hr(n,e,t)}),s}function dn(e,t){const s=gr(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(U(s,n)&&n in i?s:i,n,o)}const mr={get:dn(!1,!1)},vr={get:dn(!1,!0)},yr={get:dn(!0,!1)};const Ai=new WeakMap,Di=new WeakMap,Fi=new WeakMap,br=new WeakMap;function wr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xr(e){return e.__v_skip||!Object.isExtensible(e)?0:wr(Wo(e))}function un(e){return qe(e)?e:fn(e,!1,ur,mr,Ai)}function _r(e){return fn(e,!1,pr,vr,Di)}function Ns(e){return fn(e,!0,fr,yr,Fi)}function fn(e,t,s,i,n){if(!Z(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=xr(e);if(o===0)return e;const l=n.get(e);if(l)return l;const a=new Proxy(e,o===2?i:s);return n.set(e,a),a}function dt(e){return qe(e)?dt(e.__v_raw):!!(e&&e.__v_isReactive)}function qe(e){return!!(e&&e.__v_isReadonly)}function xe(e){return!!(e&&e.__v_isShallow)}function pn(e){return e?!!e.__v_raw:!1}function V(e){const t=e&&e.__v_raw;return t?V(t):e}function Ri(e){return!U(e,"__v_skip")&&Object.isExtensible(e)&&bi(e,"__v_skip",!0),e}const je=e=>Z(e)?un(e):e,Ft=e=>Z(e)?Ns(e):e;function re(e){return e?e.__v_isRef===!0:!1}function kr(e){return Sr(e,!1)}function Sr(e,t){return re(e)?e:new Cr(e,t)}class Cr{constructor(t,s){this.dep=new an,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:V(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||xe(t)||qe(t);t=i?t:V(t),Je(t,s)&&(this._rawValue=t,this._value=i?t:je(t),this.dep.trigger())}}function Er(e){return re(e)?e.value:e}const Tr={get:(e,t,s)=>t==="__v_raw"?e:Er(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return re(n)&&!re(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Oi(e){return dt(e)?e:new Proxy(e,Tr)}class $r{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new an(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=At-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&G!==this)return Si(this,!0),!0}get value(){const t=this.dep.track();return Ti(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ir(e,t,s=!1){let i,n;return L(e)?i=e:(i=e.get,n=e.set),new $r(i,n,s)}const zt={},es=new WeakMap;let tt;function Br(e,t=!1,s=tt){if(s){let i=es.get(s);i||es.set(s,i=[]),i.push(e)}}function Pr(e,t,s=q){const{immediate:i,deep:n,once:o,scheduler:l,augmentJob:a,call:c}=s,p=E=>n?E:xe(E)||n===!1||n===0?We(E,1):We(E);let f,w,T,m,h=!1,g=!1;if(re(e)?(w=()=>e.value,h=xe(e)):dt(e)?(w=()=>p(e),h=!0):j(e)?(g=!0,h=e.some(E=>dt(E)||xe(E)),w=()=>e.map(E=>{if(re(E))return E.value;if(dt(E))return p(E);if(L(E))return c?c(E,2):E()})):L(e)?t?w=c?()=>c(e,2):e:w=()=>{if(T){Oe();try{T()}finally{Le()}}const E=tt;tt=f;try{return c?c(e,3,[m]):e(m)}finally{tt=E}}:w=Pe,t&&n){const E=w,R=n===!0?1/0:n;w=()=>We(E(),R)}const x=nr(),y=()=>{f.stop(),x&&x.active&&en(x.effects,f)};if(o&&t){const E=t;t=(...R)=>{E(...R),y()}}let v=g?new Array(e.length).fill(zt):zt;const M=E=>{if(!(!(f.flags&1)||!f.dirty&&!E))if(t){const R=f.run();if(n||h||(g?R.some((Y,O)=>Je(Y,v[O])):Je(R,v))){T&&T();const Y=tt;tt=f;try{const O=[R,v===zt?void 0:g&&v[0]===zt?[]:v,m];v=R,c?c(t,3,O):t(...O)}finally{tt=Y}}}else f.run()};return a&&a(M),f=new _i(w),f.scheduler=l?()=>l(M,!1):M,m=E=>Br(E,!1,f),T=f.onStop=()=>{const E=es.get(f);if(E){if(c)c(E,4);else for(const R of E)R();es.delete(f)}},t?i?M(!0):v=f.run():l?l(M.bind(null,!0),!0):f.run(),y.pause=f.pause.bind(f),y.resume=f.resume.bind(f),y.stop=y,y}function We(e,t=1/0,s){if(t<=0||!Z(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,re(e))We(e.value,t,s);else if(j(e))for(let i=0;i<e.length;i++)We(e[i],t,s);else if(Uo(e)||kt(e))e.forEach(i=>{We(i,t,s)});else if(Jo(e)){for(const i in e)We(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&We(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ht(e,t,s,i){try{return i?e(...i):e()}catch(n){fs(n,t,s)}}function Me(e,t,s,i){if(L(e)){const n=Ht(e,t,s,i);return n&&vi(n)&&n.catch(o=>{fs(o,t,s)}),n}if(j(e)){const n=[];for(let o=0;o<e.length;o++)n.push(Me(e[o],t,s,i));return n}}function fs(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||q;if(t){let a=t.parent;const c=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const f=a.ec;if(f){for(let w=0;w<f.length;w++)if(f[w](e,c,p)===!1)return}a=a.parent}if(o){Oe(),Ht(o,null,10,[e,c,p]),Le();return}}Mr(e,s,n,i,l)}function Mr(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const de=[];let $e=-1;const ut=[];let Ue=null,lt=0;const Li=Promise.resolve();let ts=null;function Ar(e){const t=ts||Li;return e?t.then(this?e.bind(this):e):t}function Dr(e){let t=$e+1,s=de.length;for(;t<s;){const i=t+s>>>1,n=de[i],o=Rt(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function hn(e){if(!(e.flags&1)){const t=Rt(e),s=de[de.length-1];!s||!(e.flags&2)&&t>=Rt(s)?de.push(e):de.splice(Dr(t),0,e),e.flags|=1,ji()}}function ji(){ts||(ts=Li.then(Ni))}function Fr(e){j(e)?ut.push(...e):Ue&&e.id===-1?Ue.splice(lt+1,0,e):e.flags&1||(ut.push(e),e.flags|=1),ji()}function Rn(e,t,s=$e+1){for(;s<de.length;s++){const i=de[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;de.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Hi(e){if(ut.length){const t=[...new Set(ut)].sort((s,i)=>Rt(s)-Rt(i));if(ut.length=0,Ue){Ue.push(...t);return}for(Ue=t,lt=0;lt<Ue.length;lt++){const s=Ue[lt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ue=null,lt=0}}const Rt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ni(e){try{for($e=0;$e<de.length;$e++){const t=de[$e];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ht(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$e<de.length;$e++){const t=de[$e];t&&(t.flags&=-2)}$e=-1,de.length=0,Hi(),ts=null,(de.length||ut.length)&&Ni()}}let Be=null,Vi=null;function ss(e){const t=Be;return Be=e,Vi=e&&e.type.__scopeId||null,t}function Rr(e,t=Be,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&zn(-1);const o=ss(t);let l;try{l=e(...n)}finally{ss(o),i._d&&zn(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Ze(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let l=0;l<n.length;l++){const a=n[l];o&&(a.oldValue=o[l].value);let c=a.dir[i];c&&(Oe(),Me(c,s,8,[e.el,a,e,t]),Le())}}function Or(e,t){if(ue){let s=ue.provides;const i=ue.parent&&ue.parent.provides;i===s&&(s=ue.provides=Object.create(i)),s[e]=t}}function Gt(e,t,s=!1){const i=Ol();if(i||ft){let n=ft?ft._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&L(t)?t.call(i&&i.proxy):t}}const Lr=Symbol.for("v-scx"),jr=()=>Gt(Lr);function Ps(e,t,s){return Ui(e,t,s)}function Ui(e,t,s=q){const{immediate:i,deep:n,flush:o,once:l}=s,a=le({},s),c=t&&i||!t&&o!=="post";let p;if(Lt){if(o==="sync"){const m=jr();p=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Pe,m.resume=Pe,m.pause=Pe,m}}const f=ue;a.call=(m,h,g)=>Me(m,f,h,g);let w=!1;o==="post"?a.scheduler=m=>{me(m,f&&f.suspense)}:o!=="sync"&&(w=!0,a.scheduler=(m,h)=>{h?m():hn(m)}),a.augmentJob=m=>{t&&(m.flags|=4),w&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const T=Pr(e,t,a);return Lt&&(p?p.push(T):c&&T()),T}function Hr(e,t,s){const i=this.proxy,n=ie(e)?e.includes(".")?Ki(i,e):()=>i[e]:e.bind(i,i);let o;L(t)?o=t:(o=t.handler,s=t);const l=Nt(this),a=Ui(n,o.bind(i),s);return l(),a}function Ki(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Nr=Symbol("_vte"),Vr=e=>e.__isTeleport,Ur=Symbol("_leaveCb");function gn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,gn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Wi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ns=new WeakMap;function Tt(e,t,s,i,n=!1){if(j(e)){e.forEach((h,g)=>Tt(h,t&&(j(t)?t[g]:t),s,i,n));return}if($t(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Tt(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?bn(i.component):i.el,l=n?null:o,{i:a,r:c}=e,p=t&&t.r,f=a.refs===q?a.refs={}:a.refs,w=a.setupState,T=V(w),m=w===q?mi:h=>U(T,h);if(p!=null&&p!==c){if(On(t),ie(p))f[p]=null,m(p)&&(w[p]=null);else if(re(p)){p.value=null;const h=t;h.k&&(f[h.k]=null)}}if(L(c))Ht(c,a,12,[l,f]);else{const h=ie(c),g=re(c);if(h||g){const x=()=>{if(e.f){const y=h?m(c)?w[c]:f[c]:c.value;if(n)j(y)&&en(y,o);else if(j(y))y.includes(o)||y.push(o);else if(h)f[c]=[o],m(c)&&(w[c]=f[c]);else{const v=[o];c.value=v,e.k&&(f[e.k]=v)}}else h?(f[c]=l,m(c)&&(w[c]=l)):g&&(c.value=l,e.k&&(f[e.k]=l))};if(l){const y=()=>{x(),ns.delete(e)};y.id=-1,ns.set(e,y),me(y,s)}else On(e),x()}}}function On(e){const t=ns.get(e);t&&(t.flags|=8,ns.delete(e))}us().requestIdleCallback;us().cancelIdleCallback;const $t=e=>!!e.type.__asyncLoader,Ji=e=>e.type.__isKeepAlive;function Kr(e,t){zi(e,"a",t)}function Wr(e,t){zi(e,"da",t)}function zi(e,t,s=ue){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(ps(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Ji(n.parent.vnode)&&Jr(i,t,s,n),n=n.parent}}function Jr(e,t,s,i){const n=ps(t,e,i,!0);qi(()=>{en(i[t],n)},s)}function ps(e,t,s=ue,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...l)=>{Oe();const a=Nt(s),c=Me(t,s,e,l);return a(),Le(),c});return i?n.unshift(o):n.push(o),o}}const He=e=>(t,s=ue)=>{(!Lt||e==="sp")&&ps(e,(...i)=>t(...i),s)},zr=He("bm"),Gi=He("m"),Gr=He("bu"),qr=He("u"),Yr=He("bum"),qi=He("um"),Qr=He("sp"),Xr=He("rtg"),Zr=He("rtc");function el(e,t=ue){ps("ec",e,t)}const tl=Symbol.for("v-ndc"),Vs=e=>e?go(e)?bn(e):Vs(e.parent):null,It=le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vs(e.parent),$root:e=>Vs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Qi(e),$forceUpdate:e=>e.f||(e.f=()=>{hn(e.update)}),$nextTick:e=>e.n||(e.n=Ar.bind(e.proxy)),$watch:e=>Hr.bind(e)}),Ms=(e,t)=>e!==q&&!e.__isScriptSetup&&U(e,t),sl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:l,type:a,appContext:c}=e;if(t[0]!=="$"){const T=l[t];if(T!==void 0)switch(T){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(Ms(i,t))return l[t]=1,i[t];if(n!==q&&U(n,t))return l[t]=2,n[t];if(U(o,t))return l[t]=3,o[t];if(s!==q&&U(s,t))return l[t]=4,s[t];Us&&(l[t]=0)}}const p=It[t];let f,w;if(p)return t==="$attrs"&&oe(e.attrs,"get",""),p(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==q&&U(s,t))return l[t]=4,s[t];if(w=c.config.globalProperties,U(w,t))return w[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return Ms(n,t)?(n[t]=s,!0):i!==q&&U(i,t)?(i[t]=s,!0):U(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,props:o,type:l}},a){let c;return!!(s[a]||e!==q&&a[0]!=="$"&&U(e,a)||Ms(t,a)||U(o,a)||U(i,a)||U(It,a)||U(n.config.globalProperties,a)||(c=l.__cssModules)&&c[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:U(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ln(e){return j(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Us=!0;function nl(e){const t=Qi(e),s=e.proxy,i=e.ctx;Us=!1,t.beforeCreate&&jn(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:l,watch:a,provide:c,inject:p,created:f,beforeMount:w,mounted:T,beforeUpdate:m,updated:h,activated:g,deactivated:x,beforeDestroy:y,beforeUnmount:v,destroyed:M,unmounted:E,render:R,renderTracked:Y,renderTriggered:O,errorCaptured:X,serverPrefetch:it,expose:_e,inheritAttrs:Ne,components:Ae,directives:ot,filters:Ss}=t;if(p&&il(p,i,null),l)for(const Q in l){const J=l[Q];L(J)&&(i[Q]=J.bind(s))}if(n){const Q=n.call(s,s);Z(Q)&&(e.data=un(Q))}if(Us=!0,o)for(const Q in o){const J=o[Q],Qe=L(J)?J.bind(s,s):L(J.get)?J.get.bind(s,s):Pe,Ut=!L(J)&&L(J.set)?J.set.bind(s):Pe,Xe=Ul({get:Qe,set:Ut});Object.defineProperty(i,Q,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:ke=>Xe.value=ke})}if(a)for(const Q in a)Yi(a[Q],i,s,Q);if(c){const Q=L(c)?c.call(s):c;Reflect.ownKeys(Q).forEach(J=>{Or(J,Q[J])})}f&&jn(f,e,"c");function ae(Q,J){j(J)?J.forEach(Qe=>Q(Qe.bind(s))):J&&Q(J.bind(s))}if(ae(zr,w),ae(Gi,T),ae(Gr,m),ae(qr,h),ae(Kr,g),ae(Wr,x),ae(el,X),ae(Zr,Y),ae(Xr,O),ae(Yr,v),ae(qi,E),ae(Qr,it),j(_e))if(_e.length){const Q=e.exposed||(e.exposed={});_e.forEach(J=>{Object.defineProperty(Q,J,{get:()=>s[J],set:Qe=>s[J]=Qe,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===Pe&&(e.render=R),Ne!=null&&(e.inheritAttrs=Ne),Ae&&(e.components=Ae),ot&&(e.directives=ot),it&&Wi(e)}function il(e,t,s=Pe){j(e)&&(e=Ks(e));for(const i in e){const n=e[i];let o;Z(n)?"default"in n?o=Gt(n.from||i,n.default,!0):o=Gt(n.from||i):o=Gt(n),re(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[i]=o}}function jn(e,t,s){Me(j(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function Yi(e,t,s,i){let n=i.includes(".")?Ki(s,i):()=>s[i];if(ie(e)){const o=t[e];L(o)&&Ps(n,o)}else if(L(e))Ps(n,e.bind(s));else if(Z(e))if(j(e))e.forEach(o=>Yi(o,t,s,i));else{const o=L(e.handler)?e.handler.bind(s):t[e.handler];L(o)&&Ps(n,o,e)}}function Qi(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,a=o.get(t);let c;return a?c=a:!n.length&&!s&&!i?c=t:(c={},n.length&&n.forEach(p=>is(c,p,l,!0)),is(c,t,l)),Z(t)&&o.set(t,c),c}function is(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&is(e,o,s,!0),n&&n.forEach(l=>is(e,l,s,!0));for(const l in t)if(!(i&&l==="expose")){const a=ol[l]||s&&s[l];e[l]=a?a(e[l],t[l]):t[l]}return e}const ol={data:Hn,props:Nn,emits:Nn,methods:_t,computed:_t,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:_t,directives:_t,watch:ll,provide:Hn,inject:rl};function Hn(e,t){return t?e?function(){return le(L(e)?e.call(this,this):e,L(t)?t.call(this,this):t)}:t:e}function rl(e,t){return _t(Ks(e),Ks(t))}function Ks(e){if(j(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ce(e,t){return e?[...new Set([].concat(e,t))]:t}function _t(e,t){return e?le(Object.create(null),e,t):t}function Nn(e,t){return e?j(e)&&j(t)?[...new Set([...e,...t])]:le(Object.create(null),Ln(e),Ln(t??{})):t}function ll(e,t){if(!e)return t;if(!t)return e;const s=le(Object.create(null),e);for(const i in t)s[i]=ce(e[i],t[i]);return s}function Xi(){return{app:null,config:{isNativeTag:mi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let al=0;function cl(e,t){return function(i,n=null){L(i)||(i=le({},i)),n!=null&&!Z(n)&&(n=null);const o=Xi(),l=new WeakSet,a=[];let c=!1;const p=o.app={_uid:al++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Kl,get config(){return o.config},set config(f){},use(f,...w){return l.has(f)||(f&&L(f.install)?(l.add(f),f.install(p,...w)):L(f)&&(l.add(f),f(p,...w))),p},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),p},component(f,w){return w?(o.components[f]=w,p):o.components[f]},directive(f,w){return w?(o.directives[f]=w,p):o.directives[f]},mount(f,w,T){if(!c){const m=p._ceVNode||ze(i,n);return m.appContext=o,T===!0?T="svg":T===!1&&(T=void 0),e(m,f,T),c=!0,p._container=f,f.__vue_app__=p,bn(m.component)}},onUnmount(f){a.push(f)},unmount(){c&&(Me(a,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(f,w){return o.provides[f]=w,p},runWithContext(f){const w=ft;ft=p;try{return f()}finally{ft=w}}};return p}}let ft=null;const dl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ge(t)}Modifiers`]||e[`${nt(t)}Modifiers`];function ul(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||q;let n=s;const o=t.startsWith("update:"),l=o&&dl(i,t.slice(7));l&&(l.trim&&(n=s.map(f=>ie(f)?f.trim():f)),l.number&&(n=s.map(qo)));let a,c=i[a=Es(t)]||i[a=Es(Ge(t))];!c&&o&&(c=i[a=Es(nt(t))]),c&&Me(c,e,6,n);const p=i[a+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Me(p,e,6,n)}}const fl=new WeakMap;function Zi(e,t,s=!1){const i=s?fl:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let l={},a=!1;if(!L(e)){const c=p=>{const f=Zi(p,t,!0);f&&(a=!0,le(l,f))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(Z(e)&&i.set(e,null),null):(j(o)?o.forEach(c=>l[c]=null):le(l,o),Z(e)&&i.set(e,l),l)}function hs(e,t){return!e||!as(t)?!1:(t=t.slice(2).replace(/Once$/,""),U(e,t[0].toLowerCase()+t.slice(1))||U(e,nt(t))||U(e,t))}function Vn(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:l,attrs:a,emit:c,render:p,renderCache:f,props:w,data:T,setupState:m,ctx:h,inheritAttrs:g}=e,x=ss(e);let y,v;try{if(s.shapeFlag&4){const E=n||i,R=E;y=Ie(p.call(R,E,f,w,m,T,h)),v=a}else{const E=t;y=Ie(E.length>1?E(w,{attrs:a,slots:l,emit:c}):E(w,null)),v=t.props?a:pl(a)}}catch(E){Bt.length=0,fs(E,e,1),y=ze(pt)}let M=y;if(v&&g!==!1){const E=Object.keys(v),{shapeFlag:R}=M;E.length&&R&7&&(o&&E.some(Zs)&&(v=hl(v,o)),M=ht(M,v,!1,!0))}return s.dirs&&(M=ht(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&gn(M,s.transition),y=M,ss(x),y}const pl=e=>{let t;for(const s in e)(s==="class"||s==="style"||as(s))&&((t||(t={}))[s]=e[s]);return t},hl=(e,t)=>{const s={};for(const i in e)(!Zs(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function gl(e,t,s){const{props:i,children:n,component:o}=e,{props:l,children:a,patchFlag:c}=t,p=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return i?Un(i,l,p):!!l;if(c&8){const f=t.dynamicProps;for(let w=0;w<f.length;w++){const T=f[w];if(l[T]!==i[T]&&!hs(p,T))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===l?!1:i?l?Un(i,l,p):!0:!!l;return!1}function Un(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!hs(s,o))return!0}return!1}function ml({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const eo={},to=()=>Object.create(eo),so=e=>Object.getPrototypeOf(e)===eo;function vl(e,t,s,i=!1){const n={},o=to();e.propsDefaults=Object.create(null),no(e,t,n,o);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=i?n:_r(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function yl(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:l}}=e,a=V(n),[c]=e.propsOptions;let p=!1;if((i||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let w=0;w<f.length;w++){let T=f[w];if(hs(e.emitsOptions,T))continue;const m=t[T];if(c)if(U(o,T))m!==o[T]&&(o[T]=m,p=!0);else{const h=Ge(T);n[h]=Ws(c,a,h,m,e,!1)}else m!==o[T]&&(o[T]=m,p=!0)}}}else{no(e,t,n,o)&&(p=!0);let f;for(const w in a)(!t||!U(t,w)&&((f=nt(w))===w||!U(t,f)))&&(c?s&&(s[w]!==void 0||s[f]!==void 0)&&(n[w]=Ws(c,a,w,void 0,e,!0)):delete n[w]);if(o!==a)for(const w in o)(!t||!U(t,w))&&(delete o[w],p=!0)}p&&Re(e.attrs,"set","")}function no(e,t,s,i){const[n,o]=e.propsOptions;let l=!1,a;if(t)for(let c in t){if(St(c))continue;const p=t[c];let f;n&&U(n,f=Ge(c))?!o||!o.includes(f)?s[f]=p:(a||(a={}))[f]=p:hs(e.emitsOptions,c)||(!(c in i)||p!==i[c])&&(i[c]=p,l=!0)}if(o){const c=V(s),p=a||q;for(let f=0;f<o.length;f++){const w=o[f];s[w]=Ws(n,c,w,p[w],e,!U(p,w))}}return l}function Ws(e,t,s,i,n,o){const l=e[s];if(l!=null){const a=U(l,"default");if(a&&i===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&L(c)){const{propsDefaults:p}=n;if(s in p)i=p[s];else{const f=Nt(n);i=p[s]=c.call(null,t),f()}}else i=c;n.ce&&n.ce._setProp(s,i)}l[0]&&(o&&!a?i=!1:l[1]&&(i===""||i===nt(s))&&(i=!0))}return i}const bl=new WeakMap;function io(e,t,s=!1){const i=s?bl:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,l={},a=[];let c=!1;if(!L(e)){const f=w=>{c=!0;const[T,m]=io(w,t,!0);le(l,T),m&&a.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!c)return Z(e)&&i.set(e,ct),ct;if(j(o))for(let f=0;f<o.length;f++){const w=Ge(o[f]);Kn(w)&&(l[w]=q)}else if(o)for(const f in o){const w=Ge(f);if(Kn(w)){const T=o[f],m=l[w]=j(T)||L(T)?{type:T}:le({},T),h=m.type;let g=!1,x=!0;if(j(h))for(let y=0;y<h.length;++y){const v=h[y],M=L(v)&&v.name;if(M==="Boolean"){g=!0;break}else M==="String"&&(x=!1)}else g=L(h)&&h.name==="Boolean";m[0]=g,m[1]=x,(g||U(m,"default"))&&a.push(w)}}const p=[l,a];return Z(e)&&i.set(e,p),p}function Kn(e){return e[0]!=="$"&&!St(e)}const mn=e=>e==="_"||e==="_ctx"||e==="$stable",vn=e=>j(e)?e.map(Ie):[Ie(e)],wl=(e,t,s)=>{if(t._n)return t;const i=Rr((...n)=>vn(t(...n)),s);return i._c=!1,i},oo=(e,t,s)=>{const i=e._ctx;for(const n in e){if(mn(n))continue;const o=e[n];if(L(o))t[n]=wl(n,o,i);else if(o!=null){const l=vn(o);t[n]=()=>l}}},ro=(e,t)=>{const s=vn(t);e.slots.default=()=>s},lo=(e,t,s)=>{for(const i in t)(s||!mn(i))&&(e[i]=t[i])},xl=(e,t,s)=>{const i=e.slots=to();if(e.vnode.shapeFlag&32){const n=t._;n?(lo(i,t,s),s&&bi(i,"_",n,!0)):oo(t,i)}else t&&ro(e,t)},_l=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,l=q;if(i.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:lo(n,t,s):(o=!t.$stable,oo(t,n)),l=t}else t&&(ro(e,t),l={default:1});if(o)for(const a in n)!mn(a)&&l[a]==null&&delete n[a]},me=Tl;function kl(e){return Sl(e)}function Sl(e,t){const s=us();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:l,createText:a,createComment:c,setText:p,setElementText:f,parentNode:w,nextSibling:T,setScopeId:m=Pe,insertStaticContent:h}=e,g=(d,u,b,C=null,_=null,k=null,B=void 0,I=null,$=!!u.dynamicChildren)=>{if(d===u)return;d&&!xt(d,u)&&(C=Kt(d),ke(d,_,k,!0),d=null),u.patchFlag===-2&&($=!1,u.dynamicChildren=null);const{type:S,ref:D,shapeFlag:P}=u;switch(S){case gs:x(d,u,b,C);break;case pt:y(d,u,b,C);break;case qt:d==null&&v(u,b,C,B);break;case be:Ae(d,u,b,C,_,k,B,I,$);break;default:P&1?R(d,u,b,C,_,k,B,I,$):P&6?ot(d,u,b,C,_,k,B,I,$):(P&64||P&128)&&S.process(d,u,b,C,_,k,B,I,$,yt)}D!=null&&_?Tt(D,d&&d.ref,k,u||d,!u):D==null&&d&&d.ref!=null&&Tt(d.ref,null,k,d,!0)},x=(d,u,b,C)=>{if(d==null)i(u.el=a(u.children),b,C);else{const _=u.el=d.el;u.children!==d.children&&p(_,u.children)}},y=(d,u,b,C)=>{d==null?i(u.el=c(u.children||""),b,C):u.el=d.el},v=(d,u,b,C)=>{[d.el,d.anchor]=h(d.children,u,b,C,d.el,d.anchor)},M=({el:d,anchor:u},b,C)=>{let _;for(;d&&d!==u;)_=T(d),i(d,b,C),d=_;i(u,b,C)},E=({el:d,anchor:u})=>{let b;for(;d&&d!==u;)b=T(d),n(d),d=b;n(u)},R=(d,u,b,C,_,k,B,I,$)=>{if(u.type==="svg"?B="svg":u.type==="math"&&(B="mathml"),d==null)Y(u,b,C,_,k,B,I,$);else{const S=d.el&&d.el._isVueCE?d.el:null;try{S&&S._beginPatch(),it(d,u,_,k,B,I,$)}finally{S&&S._endPatch()}}},Y=(d,u,b,C,_,k,B,I)=>{let $,S;const{props:D,shapeFlag:P,transition:A,dirs:F}=d;if($=d.el=l(d.type,k,D&&D.is,D),P&8?f($,d.children):P&16&&X(d.children,$,null,C,_,As(d,k),B,I),F&&Ze(d,null,C,"created"),O($,d,d.scopeId,B,C),D){for(const z in D)z!=="value"&&!St(z)&&o($,z,null,D[z],k,C);"value"in D&&o($,"value",null,D.value,k),(S=D.onVnodeBeforeMount)&&Te(S,C,d)}F&&Ze(d,null,C,"beforeMount");const H=Cl(_,A);H&&A.beforeEnter($),i($,u,b),((S=D&&D.onVnodeMounted)||H||F)&&me(()=>{S&&Te(S,C,d),H&&A.enter($),F&&Ze(d,null,C,"mounted")},_)},O=(d,u,b,C,_)=>{if(b&&m(d,b),C)for(let k=0;k<C.length;k++)m(d,C[k]);if(_){let k=_.subTree;if(u===k||fo(k.type)&&(k.ssContent===u||k.ssFallback===u)){const B=_.vnode;O(d,B,B.scopeId,B.slotScopeIds,_.parent)}}},X=(d,u,b,C,_,k,B,I,$=0)=>{for(let S=$;S<d.length;S++){const D=d[S]=I?Ke(d[S]):Ie(d[S]);g(null,D,u,b,C,_,k,B,I)}},it=(d,u,b,C,_,k,B)=>{const I=u.el=d.el;let{patchFlag:$,dynamicChildren:S,dirs:D}=u;$|=d.patchFlag&16;const P=d.props||q,A=u.props||q;let F;if(b&&et(b,!1),(F=A.onVnodeBeforeUpdate)&&Te(F,b,u,d),D&&Ze(u,d,b,"beforeUpdate"),b&&et(b,!0),(P.innerHTML&&A.innerHTML==null||P.textContent&&A.textContent==null)&&f(I,""),S?_e(d.dynamicChildren,S,I,b,C,As(u,_),k):B||J(d,u,I,null,b,C,As(u,_),k,!1),$>0){if($&16)Ne(I,P,A,b,_);else if($&2&&P.class!==A.class&&o(I,"class",null,A.class,_),$&4&&o(I,"style",P.style,A.style,_),$&8){const H=u.dynamicProps;for(let z=0;z<H.length;z++){const K=H[z],fe=P[K],pe=A[K];(pe!==fe||K==="value")&&o(I,K,fe,pe,_,b)}}$&1&&d.children!==u.children&&f(I,u.children)}else!B&&S==null&&Ne(I,P,A,b,_);((F=A.onVnodeUpdated)||D)&&me(()=>{F&&Te(F,b,u,d),D&&Ze(u,d,b,"updated")},C)},_e=(d,u,b,C,_,k,B)=>{for(let I=0;I<u.length;I++){const $=d[I],S=u[I],D=$.el&&($.type===be||!xt($,S)||$.shapeFlag&198)?w($.el):b;g($,S,D,null,C,_,k,B,!0)}},Ne=(d,u,b,C,_)=>{if(u!==b){if(u!==q)for(const k in u)!St(k)&&!(k in b)&&o(d,k,u[k],null,_,C);for(const k in b){if(St(k))continue;const B=b[k],I=u[k];B!==I&&k!=="value"&&o(d,k,I,B,_,C)}"value"in b&&o(d,"value",u.value,b.value,_)}},Ae=(d,u,b,C,_,k,B,I,$)=>{const S=u.el=d?d.el:a(""),D=u.anchor=d?d.anchor:a("");let{patchFlag:P,dynamicChildren:A,slotScopeIds:F}=u;F&&(I=I?I.concat(F):F),d==null?(i(S,b,C),i(D,b,C),X(u.children||[],b,D,_,k,B,I,$)):P>0&&P&64&&A&&d.dynamicChildren&&d.dynamicChildren.length===A.length?(_e(d.dynamicChildren,A,b,_,k,B,I),(u.key!=null||_&&u===_.subTree)&&ao(d,u,!0)):J(d,u,b,D,_,k,B,I,$)},ot=(d,u,b,C,_,k,B,I,$)=>{u.slotScopeIds=I,d==null?u.shapeFlag&512?_.ctx.activate(u,b,C,B,$):Ss(u,b,C,_,k,B,$):Tn(d,u,$)},Ss=(d,u,b,C,_,k,B)=>{const I=d.component=Rl(d,C,_);if(Ji(d)&&(I.ctx.renderer=yt),Ll(I,!1,B),I.asyncDep){if(_&&_.registerDep(I,ae,B),!d.el){const $=I.subTree=ze(pt);y(null,$,u,b),d.placeholder=$.el}}else ae(I,d,u,b,_,k,B)},Tn=(d,u,b)=>{const C=u.component=d.component;if(gl(d,u,b))if(C.asyncDep&&!C.asyncResolved){Q(C,u,b);return}else C.next=u,C.update();else u.el=d.el,C.vnode=u},ae=(d,u,b,C,_,k,B)=>{const I=()=>{if(d.isMounted){let{next:P,bu:A,u:F,parent:H,vnode:z}=d;{const Ce=co(d);if(Ce){P&&(P.el=z.el,Q(d,P,B)),Ce.asyncDep.then(()=>{d.isUnmounted||I()});return}}let K=P,fe;et(d,!1),P?(P.el=z.el,Q(d,P,B)):P=z,A&&Ts(A),(fe=P.props&&P.props.onVnodeBeforeUpdate)&&Te(fe,H,P,z),et(d,!0);const pe=Vn(d),Se=d.subTree;d.subTree=pe,g(Se,pe,w(Se.el),Kt(Se),d,_,k),P.el=pe.el,K===null&&ml(d,pe.el),F&&me(F,_),(fe=P.props&&P.props.onVnodeUpdated)&&me(()=>Te(fe,H,P,z),_)}else{let P;const{el:A,props:F}=u,{bm:H,m:z,parent:K,root:fe,type:pe}=d,Se=$t(u);et(d,!1),H&&Ts(H),!Se&&(P=F&&F.onVnodeBeforeMount)&&Te(P,K,u),et(d,!0);{fe.ce&&fe.ce._def.shadowRoot!==!1&&fe.ce._injectChildStyle(pe);const Ce=d.subTree=Vn(d);g(null,Ce,b,C,d,_,k),u.el=Ce.el}if(z&&me(z,_),!Se&&(P=F&&F.onVnodeMounted)){const Ce=u;me(()=>Te(P,K,Ce),_)}(u.shapeFlag&256||K&&$t(K.vnode)&&K.vnode.shapeFlag&256)&&d.a&&me(d.a,_),d.isMounted=!0,u=b=C=null}};d.scope.on();const $=d.effect=new _i(I);d.scope.off();const S=d.update=$.run.bind($),D=d.job=$.runIfDirty.bind($);D.i=d,D.id=d.uid,$.scheduler=()=>hn(D),et(d,!0),S()},Q=(d,u,b)=>{u.component=d;const C=d.vnode.props;d.vnode=u,d.next=null,yl(d,u.props,C,b),_l(d,u.children,b),Oe(),Rn(d),Le()},J=(d,u,b,C,_,k,B,I,$=!1)=>{const S=d&&d.children,D=d?d.shapeFlag:0,P=u.children,{patchFlag:A,shapeFlag:F}=u;if(A>0){if(A&128){Ut(S,P,b,C,_,k,B,I,$);return}else if(A&256){Qe(S,P,b,C,_,k,B,I,$);return}}F&8?(D&16&&vt(S,_,k),P!==S&&f(b,P)):D&16?F&16?Ut(S,P,b,C,_,k,B,I,$):vt(S,_,k,!0):(D&8&&f(b,""),F&16&&X(P,b,C,_,k,B,I,$))},Qe=(d,u,b,C,_,k,B,I,$)=>{d=d||ct,u=u||ct;const S=d.length,D=u.length,P=Math.min(S,D);let A;for(A=0;A<P;A++){const F=u[A]=$?Ke(u[A]):Ie(u[A]);g(d[A],F,b,null,_,k,B,I,$)}S>D?vt(d,_,k,!0,!1,P):X(u,b,C,_,k,B,I,$,P)},Ut=(d,u,b,C,_,k,B,I,$)=>{let S=0;const D=u.length;let P=d.length-1,A=D-1;for(;S<=P&&S<=A;){const F=d[S],H=u[S]=$?Ke(u[S]):Ie(u[S]);if(xt(F,H))g(F,H,b,null,_,k,B,I,$);else break;S++}for(;S<=P&&S<=A;){const F=d[P],H=u[A]=$?Ke(u[A]):Ie(u[A]);if(xt(F,H))g(F,H,b,null,_,k,B,I,$);else break;P--,A--}if(S>P){if(S<=A){const F=A+1,H=F<D?u[F].el:C;for(;S<=A;)g(null,u[S]=$?Ke(u[S]):Ie(u[S]),b,H,_,k,B,I,$),S++}}else if(S>A)for(;S<=P;)ke(d[S],_,k,!0),S++;else{const F=S,H=S,z=new Map;for(S=H;S<=A;S++){const ge=u[S]=$?Ke(u[S]):Ie(u[S]);ge.key!=null&&z.set(ge.key,S)}let K,fe=0;const pe=A-H+1;let Se=!1,Ce=0;const bt=new Array(pe);for(S=0;S<pe;S++)bt[S]=0;for(S=F;S<=P;S++){const ge=d[S];if(fe>=pe){ke(ge,_,k,!0);continue}let Ee;if(ge.key!=null)Ee=z.get(ge.key);else for(K=H;K<=A;K++)if(bt[K-H]===0&&xt(ge,u[K])){Ee=K;break}Ee===void 0?ke(ge,_,k,!0):(bt[Ee-H]=S+1,Ee>=Ce?Ce=Ee:Se=!0,g(ge,u[Ee],b,null,_,k,B,I,$),fe++)}const Bn=Se?El(bt):ct;for(K=Bn.length-1,S=pe-1;S>=0;S--){const ge=H+S,Ee=u[ge],Pn=u[ge+1],Mn=ge+1<D?Pn.el||uo(Pn):C;bt[S]===0?g(null,Ee,b,Mn,_,k,B,I,$):Se&&(K<0||S!==Bn[K]?Xe(Ee,b,Mn,2):K--)}}},Xe=(d,u,b,C,_=null)=>{const{el:k,type:B,transition:I,children:$,shapeFlag:S}=d;if(S&6){Xe(d.component.subTree,u,b,C);return}if(S&128){d.suspense.move(u,b,C);return}if(S&64){B.move(d,u,b,yt);return}if(B===be){i(k,u,b);for(let P=0;P<$.length;P++)Xe($[P],u,b,C);i(d.anchor,u,b);return}if(B===qt){M(d,u,b);return}if(C!==2&&S&1&&I)if(C===0)I.beforeEnter(k),i(k,u,b),me(()=>I.enter(k),_);else{const{leave:P,delayLeave:A,afterLeave:F}=I,H=()=>{d.ctx.isUnmounted?n(k):i(k,u,b)},z=()=>{k._isLeaving&&k[Ur](!0),P(k,()=>{H(),F&&F()})};A?A(k,H,z):z()}else i(k,u,b)},ke=(d,u,b,C=!1,_=!1)=>{const{type:k,props:B,ref:I,children:$,dynamicChildren:S,shapeFlag:D,patchFlag:P,dirs:A,cacheIndex:F}=d;if(P===-2&&(_=!1),I!=null&&(Oe(),Tt(I,null,b,d,!0),Le()),F!=null&&(u.renderCache[F]=void 0),D&256){u.ctx.deactivate(d);return}const H=D&1&&A,z=!$t(d);let K;if(z&&(K=B&&B.onVnodeBeforeUnmount)&&Te(K,u,d),D&6)No(d.component,b,C);else{if(D&128){d.suspense.unmount(b,C);return}H&&Ze(d,null,u,"beforeUnmount"),D&64?d.type.remove(d,u,b,yt,C):S&&!S.hasOnce&&(k!==be||P>0&&P&64)?vt(S,u,b,!1,!0):(k===be&&P&384||!_&&D&16)&&vt($,u,b),C&&$n(d)}(z&&(K=B&&B.onVnodeUnmounted)||H)&&me(()=>{K&&Te(K,u,d),H&&Ze(d,null,u,"unmounted")},b)},$n=d=>{const{type:u,el:b,anchor:C,transition:_}=d;if(u===be){Ho(b,C);return}if(u===qt){E(d);return}const k=()=>{n(b),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:B,delayLeave:I}=_,$=()=>B(b,k);I?I(d.el,k,$):$()}else k()},Ho=(d,u)=>{let b;for(;d!==u;)b=T(d),n(d),d=b;n(u)},No=(d,u,b)=>{const{bum:C,scope:_,job:k,subTree:B,um:I,m:$,a:S}=d;Wn($),Wn(S),C&&Ts(C),_.stop(),k&&(k.flags|=8,ke(B,d,u,b)),I&&me(I,u),me(()=>{d.isUnmounted=!0},u)},vt=(d,u,b,C=!1,_=!1,k=0)=>{for(let B=k;B<d.length;B++)ke(d[B],u,b,C,_)},Kt=d=>{if(d.shapeFlag&6)return Kt(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const u=T(d.anchor||d.el),b=u&&u[Nr];return b?T(b):u};let Cs=!1;const In=(d,u,b)=>{let C;d==null?u._vnode&&(ke(u._vnode,null,null,!0),C=u._vnode.component):g(u._vnode||null,d,u,null,null,null,b),u._vnode=d,Cs||(Cs=!0,Rn(C),Hi(),Cs=!1)},yt={p:g,um:ke,m:Xe,r:$n,mt:Ss,mc:X,pc:J,pbc:_e,n:Kt,o:e};return{render:In,hydrate:void 0,createApp:cl(In)}}function As({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function et({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Cl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ao(e,t,s=!1){const i=e.children,n=t.children;if(j(i)&&j(n))for(let o=0;o<i.length;o++){const l=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Ke(n[o]),a.el=l.el),!s&&a.patchFlag!==-2&&ao(l,a)),a.type===gs&&(a.patchFlag!==-1?a.el=l.el:a.__elIndex=o+(e.type===be?1:0)),a.type===pt&&!a.el&&(a.el=l.el)}}function El(e){const t=e.slice(),s=[0];let i,n,o,l,a;const c=e.length;for(i=0;i<c;i++){const p=e[i];if(p!==0){if(n=s[s.length-1],e[n]<p){t[i]=n,s.push(i);continue}for(o=0,l=s.length-1;o<l;)a=o+l>>1,e[s[a]]<p?o=a+1:l=a;p<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,l=s[o-1];o-- >0;)s[o]=l,l=t[l];return s}function co(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:co(t)}function Wn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function uo(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?uo(t.subTree):null}const fo=e=>e.__isSuspense;function Tl(e,t){t&&t.pendingBranch?j(e)?t.effects.push(...e):t.effects.push(e):Fr(e)}const be=Symbol.for("v-fgt"),gs=Symbol.for("v-txt"),pt=Symbol.for("v-cmt"),qt=Symbol.for("v-stc"),Bt=[];let ve=null;function Jn(e=!1){Bt.push(ve=e?null:[])}function $l(){Bt.pop(),ve=Bt[Bt.length-1]||null}let Ot=1;function zn(e,t=!1){Ot+=e,e<0&&ve&&t&&(ve.hasOnce=!0)}function Il(e){return e.dynamicChildren=Ot>0?ve||ct:null,$l(),Ot>0&&ve&&ve.push(e),e}function Gn(e,t,s,i,n,o){return Il(r(e,t,s,i,n,o,!0))}function po(e){return e?e.__v_isVNode===!0:!1}function xt(e,t){return e.type===t.type&&e.key===t.key}const ho=({key:e})=>e??null,Yt=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ie(e)||re(e)||L(e)?{i:Be,r:e,k:t,f:!!s}:e:null);function r(e,t=null,s=null,i=0,n=null,o=e===be?0:1,l=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ho(t),ref:t&&Yt(t),scopeId:Vi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Be};return a?(yn(c,s),o&128&&e.normalize(c)):s&&(c.shapeFlag|=ie(s)?8:16),Ot>0&&!l&&ve&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&ve.push(c),c}const ze=Bl;function Bl(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===tl)&&(e=pt),po(e)){const a=ht(e,t,!0);return s&&yn(a,s),Ot>0&&!o&&ve&&(a.shapeFlag&6?ve[ve.indexOf(e)]=a:ve.push(a)),a.patchFlag=-2,a}if(Vl(e)&&(e=e.__vccOpts),t){t=Pl(t);let{class:a,style:c}=t;a&&!ie(a)&&(t.class=nn(a)),Z(c)&&(pn(c)&&!j(c)&&(c=le({},c)),t.style=sn(c))}const l=ie(e)?1:fo(e)?128:Vr(e)?64:Z(e)?4:L(e)?2:0;return r(e,t,s,i,n,l,o,!0)}function Pl(e){return e?pn(e)||so(e)?le({},e):e:null}function ht(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:l,children:a,transition:c}=e,p=t?Al(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&ho(p),ref:t&&t.ref?s&&o?j(o)?o.concat(Yt(t)):[o,Yt(t)]:Yt(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==be?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ht(e.ssContent),ssFallback:e.ssFallback&&ht(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&i&&gn(f,c.clone(f)),f}function ne(e=" ",t=0){return ze(gs,null,e,t)}function Ml(e,t){const s=ze(qt,null,e);return s.staticCount=t,s}function Ie(e){return e==null||typeof e=="boolean"?ze(pt):j(e)?ze(be,null,e.slice()):po(e)?Ke(e):ze(gs,null,String(e))}function Ke(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ht(e)}function yn(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(j(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),yn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!so(t)?t._ctx=Be:n===3&&Be&&(Be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else L(t)?(t={default:t,_ctx:Be},s=32):(t=String(t),i&64?(s=16,t=[ne(t)]):s=8);e.children=t,e.shapeFlag|=s}function Al(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=nn([t.class,i.class]));else if(n==="style")t.style=sn([t.style,i.style]);else if(as(n)){const o=t[n],l=i[n];l&&o!==l&&!(j(o)&&o.includes(l))&&(t[n]=o?[].concat(o,l):l)}else n!==""&&(t[n]=i[n])}return t}function Te(e,t,s,i=null){Me(e,t,7,[s,i])}const Dl=Xi();let Fl=0;function Rl(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Dl,o={uid:Fl++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:io(i,n),emitsOptions:Zi(i,n),emit:null,emitted:null,propsDefaults:q,inheritAttrs:i.inheritAttrs,ctx:q,data:q,props:q,attrs:q,slots:q,refs:q,setupState:q,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ul.bind(null,o),e.ce&&e.ce(o),o}let ue=null;const Ol=()=>ue||Be;let os,Js;{const e=us(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(l=>l(o)):n[0](o)}};os=t("__VUE_INSTANCE_SETTERS__",s=>ue=s),Js=t("__VUE_SSR_SETTERS__",s=>Lt=s)}const Nt=e=>{const t=ue;return os(e),e.scope.on(),()=>{e.scope.off(),os(t)}},qn=()=>{ue&&ue.scope.off(),os(null)};function go(e){return e.vnode.shapeFlag&4}let Lt=!1;function Ll(e,t=!1,s=!1){t&&Js(t);const{props:i,children:n}=e.vnode,o=go(e);vl(e,i,o,t),xl(e,n,s||t);const l=o?jl(e,t):void 0;return t&&Js(!1),l}function jl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,sl);const{setup:i}=s;if(i){Oe();const n=e.setupContext=i.length>1?Nl(e):null,o=Nt(e),l=Ht(i,e,0,[e.props,n]),a=vi(l);if(Le(),o(),(a||e.sp)&&!$t(e)&&Wi(e),a){if(l.then(qn,qn),t)return l.then(c=>{Yn(e,c)}).catch(c=>{fs(c,e,0)});e.asyncDep=l}else Yn(e,l)}else mo(e)}function Yn(e,t,s){L(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Z(t)&&(e.setupState=Oi(t)),mo(e)}function mo(e,t,s){const i=e.type;e.render||(e.render=i.render||Pe);{const n=Nt(e);Oe();try{nl(e)}finally{Le(),n()}}}const Hl={get(e,t){return oe(e,"get",""),e[t]}};function Nl(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Hl),slots:e.slots,emit:e.emit,expose:t}}function bn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Oi(Ri(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in It)return It[s](e)},has(t,s){return s in t||s in It}})):e.proxy}function Vl(e){return L(e)&&"__vccOpts"in e}const Ul=(e,t)=>Ir(e,t,Lt),Kl="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zs;const Qn=typeof window<"u"&&window.trustedTypes;if(Qn)try{zs=Qn.createPolicy("vue",{createHTML:e=>e})}catch{}const vo=zs?e=>zs.createHTML(e):e=>e,Wl="http://www.w3.org/2000/svg",Jl="http://www.w3.org/1998/Math/MathML",Fe=typeof document<"u"?document:null,Xn=Fe&&Fe.createElement("template"),zl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Fe.createElementNS(Wl,e):t==="mathml"?Fe.createElementNS(Jl,e):s?Fe.createElement(e,{is:s}):Fe.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Fe.createTextNode(e),createComment:e=>Fe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const l=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Xn.innerHTML=vo(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=Xn.content;if(i==="svg"||i==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Gl=Symbol("_vtc");function ql(e,t,s){const i=e[Gl];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Zn=Symbol("_vod"),Yl=Symbol("_vsh"),Ql=Symbol(""),Xl=/(?:^|;)\s*display\s*:/;function Zl(e,t,s){const i=e.style,n=ie(s);let o=!1;if(s&&!n){if(t)if(ie(t))for(const l of t.split(";")){const a=l.slice(0,l.indexOf(":")).trim();s[a]==null&&Qt(i,a,"")}else for(const l in t)s[l]==null&&Qt(i,l,"");for(const l in s)l==="display"&&(o=!0),Qt(i,l,s[l])}else if(n){if(t!==s){const l=i[Ql];l&&(s+=";"+l),i.cssText=s,o=Xl.test(s)}}else t&&e.removeAttribute("style");Zn in e&&(e[Zn]=o?i.display:"",e[Yl]&&(i.display="none"))}const ei=/\s*!important$/;function Qt(e,t,s){if(j(s))s.forEach(i=>Qt(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=ea(e,t);ei.test(s)?e.setProperty(nt(i),s.replace(ei,""),"important"):e[i]=s}}const ti=["Webkit","Moz","ms"],Ds={};function ea(e,t){const s=Ds[t];if(s)return s;let i=Ge(t);if(i!=="filter"&&i in e)return Ds[t]=i;i=yi(i);for(let n=0;n<ti.length;n++){const o=ti[n]+i;if(o in e)return Ds[t]=o}return t}const si="http://www.w3.org/1999/xlink";function ni(e,t,s,i,n,o=tr(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(si,t.slice(6,t.length)):e.setAttributeNS(si,t,s):s==null||o&&!wi(s)?e.removeAttribute(t):e.setAttribute(t,o?"":gt(s)?String(s):s)}function ii(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?vo(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=wi(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(n||t)}function ta(e,t,s,i){e.addEventListener(t,s,i)}function sa(e,t,s,i){e.removeEventListener(t,s,i)}const oi=Symbol("_vei");function na(e,t,s,i,n=null){const o=e[oi]||(e[oi]={}),l=o[t];if(i&&l)l.value=i;else{const[a,c]=ia(t);if(i){const p=o[t]=la(i,n);ta(e,a,p,c)}else l&&(sa(e,a,l,c),o[t]=void 0)}}const ri=/(?:Once|Passive|Capture)$/;function ia(e){let t;if(ri.test(e)){t={};let i;for(;i=e.match(ri);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nt(e.slice(2)),t]}let Fs=0;const oa=Promise.resolve(),ra=()=>Fs||(oa.then(()=>Fs=0),Fs=Date.now());function la(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Me(aa(i,s.value),t,5,[i])};return s.value=e,s.attached=ra(),s}function aa(e,t){if(j(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const li=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ca=(e,t,s,i,n,o)=>{const l=n==="svg";t==="class"?ql(e,i,l):t==="style"?Zl(e,s,i):as(t)?Zs(t)||na(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):da(e,t,i,l))?(ii(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ni(e,t,i,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ie(i))?ii(e,Ge(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),ni(e,t,i,l))};function da(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&li(t)&&L(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return li(t)&&ie(s)?!1:t in e}const ua=le({patchProp:ca},zl);let ai;function fa(){return ai||(ai=kl(ua))}const pa=(...e)=>{const t=fa().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=ga(i);if(!n)return;const o=t._component;!L(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,ha(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function ha(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ga(e){return ie(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ma=Symbol();var ci;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ci||(ci={}));function va(){const e=sr(!0),t=e.run(()=>kr({}));let s=[],i=[];const n=Ri({install(o){n._a=o,o.provide(ma,n),o.config.globalProperties.$pinia=n,i.forEach(l=>s.push(l)),i=[]},use(o){return this._a?s.push(o):i.push(o),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}function ya(e){let t=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);return`hsl(${Math.abs(t)%360}, 70%, 45%)`}function ba(e){if(!e)return"";let t=e.replace(/^(feat|chore|docs|fix|refactor|style|test|perf|ci|build)(\(.*\))?!?:?\s*/i,"");return t.charAt(0).toUpperCase()+t.slice(1)}function Gs(e){if(!e)return"";const t=document.createElement("div");return t.textContent=e,t.innerHTML}function wa(e,t){if(!t||!e)return Gs(e);const s=Gs(e);try{const i=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return s.replace(i,'<span class="highlight">$1</span>')}catch{return s}}function xa(e){const t=Math.floor((new Date-e)/1e3);if(t<60)return"Just now";const s=Math.floor(t/60);if(s<60)return s+"m";const i=Math.floor(s/60);return i<24?i+"h":Math.floor(i/24)+"d"}function _a(e,t="success"){const s=document.querySelector(".toast");s&&s.remove();const i=document.createElement("div");i.className=`toast ${t}`,i.textContent=e,document.body.appendChild(i),setTimeout(()=>i.remove(),3e3)}function ka(){const e=document.querySelector(".sidebar"),t=document.querySelector(".sidebar-overlay");e.classList.toggle("open"),t.classList.toggle("open")}function Sa(){"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()}function Ca(e,t={}){"Notification"in window&&Notification.permission==="granted"&&new Notification(e,t)}window.toggleSidebar=ka;function Ea(e){const t=document.getElementById(e);t&&(t.classList.add("open"),document.body.style.overflow="hidden")}function Ta(e){const t=document.getElementById(e);t&&(t.classList.remove("open"),document.body.style.overflow="")}window.openModal=Ea;window.closeModal=Ta;Object.assign(window,{stringToColor:ya,cleanTitle:ba,escapeHtml:Gs,highlightText:wa,timeSince:xa,showToast:_a,requestNotificationPermission:Sa,notify:Ca});const ee="";function wn(){const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"http://localhost:8003/api/cli":"https://api.repr.dev/api/cli"}async function te(e,t={},s=2){for(let i=0;i<=s;i++)try{const n=await fetch(e,t);if(!n.ok&&i<s){await new Promise(o=>setTimeout(o,1e3*(i+1)));continue}return n}catch(n){if(i===s)throw n;await new Promise(o=>setTimeout(o,1e3*(i+1)))}}async function $a(){try{return await(await te(`${ee}/api/status`)).json()}catch(e){throw console.error("Failed to fetch status:",e),e}}async function Ia(){try{return await(await te(`${ee}/api/stories`)).json()}catch(e){throw console.error("Failed to fetch stories:",e),e}}async function Ba(){try{return await(await te(`${ee}/api/config`)).json()}catch(e){throw console.error("Failed to fetch config:",e),e}}async function Pa(e){try{const t=await te(`${ee}/api/config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to save config");return await t.json()}catch(t){throw console.error("Failed to update config:",t),t}}async function Ma(){try{return await(await te(`${ee}/api/repos`)).json()}catch(e){throw console.error("Failed to fetch repos:",e),e}}async function Aa(e){try{return await(await te(`${ee}/api/repos/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})})).json()}catch(t){throw console.error("Failed to add repo:",t),t}}async function Da(e){try{return await(await te(`${ee}/api/repos/remove`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})})).json()}catch(t){throw console.error("Failed to remove repo:",t),t}}async function Fa(e){try{return await(await te(`${ee}/api/repos/pause`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})})).json()}catch(t){throw console.error("Failed to pause repo:",t),t}}async function Ra(e){try{return await(await te(`${ee}/api/repos/resume`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})})).json()}catch(t){throw console.error("Failed to resume repo:",t),t}}async function Oa(e,t){try{return await(await te(`${ee}/api/repos/rename`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,name:t})})).json()}catch(s){throw console.error("Failed to rename repo:",s),s}}async function La(){try{return await(await te(`${ee}/api/cron`)).json()}catch(e){throw console.error("Failed to fetch cron status:",e),e}}async function ja(){try{return await(await te(`${ee}/api/generate`,{method:"POST"})).json()}catch(e){throw console.error("Failed to trigger generation:",e),e}}async function Ha(){try{return await(await te(`${ee}/api/auth`)).json()}catch(e){throw console.error("Failed to fetch auth status:",e),e}}async function Na(){try{const e=await fetch(`${wn()}/device-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:"repr-cli"})});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();return{status:"pending",device_code:t.device_code,user_code:t.user_code,verification_url:t.verification_url,expires_in:t.expires_in,interval:t.interval||5}}catch(e){throw console.error("Failed to start login:",e),e}}async function Va(e){var t;try{const s=await fetch(`${wn()}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_code:e,client_id:"repr-cli",device_id:yo(),device_name:bo()})});if(s.status===200){const i=await s.json();return{status:"completed",access_token:i.access_token,user:i.user,litellm_api_key:i.litellm_api_key}}if(s.status===400){const i=await s.json(),n=i.error||((t=i.detail)==null?void 0:t.error)||"unknown";return n==="authorization_pending"?{status:"pending",message:"Waiting for authorization"}:n==="slow_down"?{status:"pending",message:"Slow down"}:n==="expired_token"?{status:"expired",message:"Device code expired"}:n==="access_denied"?{status:"denied",message:"Authorization denied"}:{status:"error",message:`Authorization failed: ${n}`}}return{status:"error",message:`Unexpected status: ${s.status}`}}catch(s){return console.error("Failed to poll login status:",s),{status:"error",message:s.message}}}async function Ua(e){try{return await(await te(`${ee}/api/auth/save`,{method:"POST",body:JSON.stringify(e)})).json()}catch(t){throw console.error("Failed to save auth token:",t),t}}async function Ka(){return{success:!0}}async function Wa(){try{return await(await te(`${ee}/api/auth/logout`,{method:"POST"})).json()}catch(e){throw console.error("Failed to logout:",e),e}}function yo(){let e=localStorage.getItem("repr_device_id");return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const s=Math.random()*16|0;return(t==="x"?s:s&3|8).toString(16)}),localStorage.setItem("repr_device_id",e)),e}function bo(){return`Dashboard (${navigator.platform||"Web"})`}async function Ja(){try{return await(await te(`${ee}/api/username`)).json()}catch(e){throw console.error("Failed to fetch username info:",e),e}}async function za(e){try{return await(await te(`${ee}/api/username/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})})).json()}catch(t){throw console.error("Failed to claim username:",t),t}}async function Ga(e={}){try{const t=new URLSearchParams;return e.scope&&t.append("scope",e.scope),e.repo_name&&t.append("repo_name",e.repo_name),e.story_id&&t.append("story_id",e.story_id),e.include_pushed&&t.append("include_pushed","true"),await(await te(`${ee}/api/publish/preview?${t.toString()}`)).json()}catch(t){throw console.error("Failed to get publish preview:",t),t}}async function wo(e={}){try{return await(await te(`${ee}/api/publish`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(t){return console.error("Failed to publish stories:",t),{success:!1,error:t.message}}}async function qa(e,t=null){return wo({scope:"story",story_id:e,visibility:t})}async function Ya(){try{return await(await te(`${ee}/api/version`)).json()}catch(e){return console.error("Failed to fetch version:",e),{version:"unknown",update_available:null}}}Object.assign(window,{API_BASE:ee,getReprApiBase:wn,fetchWithRetry:te,getStatus:$a,getStories:Ia,getConfig:Ba,updateConfig:Pa,getRepos:Ma,addRepo:Aa,removeRepo:Da,pauseRepo:Fa,resumeRepo:Ra,renameRepo:Oa,getCronStatus:La,triggerGeneration:ja,getAuthStatus:Ha,startLogin:Na,pollLoginStatus:Va,saveAuthToken:Ua,cancelLogin:Ka,logout:Wa,getUsernameInfo:Ja,claimUsername:za,getDeviceId:yo,getDeviceName:bo,getPublishPreview:Ga,publishStories:wo,publishSingleStory:qa,getVersion:Ya});class xo{constructor(){this.state={stories:[],repos:[],config:null,cronStatus:null,currentRepo:"all",searchQuery:"",currentMainView:"stories",currentSettingsTab:"form",configDirty:!1,previousView:"view-main"},this.subscribers=[]}get(t){return t?this.state[t]:this.state}update(t,s){const i=this.state[t];this.state[t]=s,this.subscribers.forEach(n=>n(t,s,i))}batchUpdate(t){Object.entries(t).forEach(([s,i])=>{this.state[s]=i}),this.subscribers.forEach(s=>s("batch",t,null))}subscribe(t){return this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);s>-1&&this.subscribers.splice(s,1)}}reset(){this.state={stories:[],repos:[],config:null,cronStatus:null,currentRepo:"all",searchQuery:"",currentMainView:"stories",currentSettingsTab:"form",configDirty:!1,previousView:"view-main"},this.subscribers.forEach(t=>t("reset",this.state,null))}}const Pt=new xo;Pt.initRouter=function(){window.addEventListener("popstate",e=>{const t=e.state;if(!t){Pt.update("currentMainView","stories"),switchMainView("stories",!1),di();return}t.view==="detail"&&t.storyId?Pt.get("stories").find(n=>n.id===t.storyId)&&openStory(null,t.storyId,!1):t.view==="profile"&&t.repoName?openProfile(null,t.repoName,!1):t.view==="user"&&t.authorName?openUser(null,t.authorName,t.authorEmail||"",!1):t.view==="main"&&(di(),t.mainView&&switchMainView(t.mainView,!1))})};Pt.pushHistory=function(e,t,s){history.pushState(e,t,s)};function di(){document.getElementById("view-main").style.display=""}window.store=Pt;window.State=xo;const qs="repr-dashboard-theme";function Qa(){const e=localStorage.getItem(qs);if(e)Mt(e);else{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;Mt(t?"dark":"light")}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem(qs)||Mt(t.matches?"dark":"light")})}function Mt(e){document.documentElement.setAttribute("data-theme",e),_o(e)}function Xa(){const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";Mt(t),localStorage.setItem(qs,t),showToast(`${t==="dark"?"Dark":"Light"} mode enabled`,"success")}function Za(){return document.documentElement.getAttribute("data-theme")||"light"}function _o(e){const t=document.getElementById("theme-toggle");if(t){const s=t.querySelector(".theme-toggle-icon");s&&(s.textContent=e==="dark"?"":"")}}window.toggleTheme=Xa;Object.assign(window,{initTheme:Qa,setTheme:Mt,getTheme:Za,updateThemeToggleIcon:_o});let ye=-1,rs=!1;function ec(){document.addEventListener("keydown",tc)}function tc(e){if((e.metaKey||e.ctrlKey)&&e.key==="k"){e.preventDefault(),ui();return}if(e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"){if(e.key==="Escape"){e.target.blur();return}return}if(rs){(e.key==="Escape"||e.key==="?")&&(So(),e.preventDefault());return}switch(e.key){case"/":e.preventDefault(),ui();break;case"j":e.preventDefault(),sc();break;case"k":e.preventDefault(),nc();break;case"Enter":ye>=0&&(e.preventDefault(),ic());break;case"Escape":e.preventDefault(),oc();break;case"r":case"R":e.preventDefault(),refreshStories();break;case"?":e.preventDefault(),rc();break}}function ui(){const e=document.getElementById("search-input");e&&(e.focus(),showToast("Search focused (type to filter, Esc to clear)","success"))}function sc(){const e=ms();e.length&&(ye=Math.min(ye+1,e.length-1),ko(e))}function nc(){const e=ms();e.length&&(ye=Math.max(ye-1,0),ko(e))}function ms(){return Array.from(document.querySelectorAll(".post-card"))}function ko(e){e.forEach((t,s)=>{t.classList.toggle("selected",s===ye),s===ye&&t.scrollIntoView({behavior:"smooth",block:"center"})})}function ic(){const e=ms();if(ye>=0&&ye<e.length){const s=e[ye].id.replace("post-","");s&&openStory({stopPropagation:()=>{}},s)}}function oc(){const e=document.getElementById("view-detail"),t=document.getElementById("view-profile");if((e==null?void 0:e.style.display)!=="none"||(t==null?void 0:t.style.display)!=="none"){goBack();return}const s=document.getElementById("search-input");if(s&&s.value){s.value="",store.update("searchQuery",""),filterAndRenderStories();return}ye>=0&&(ye=-1,ms().forEach(n=>n.classList.remove("selected")))}function rc(){if(rs)return;rs=!0;const e=document.createElement("div");e.id="keyboard-shortcuts-modal",e.className="keyboard-modal",e.innerHTML=`
    <div class="keyboard-modal-backdrop" onclick="hideKeyboardShortcuts()"></div>
    <div class="keyboard-modal-content">
      <div class="keyboard-modal-header">
        <h3>Keyboard Shortcuts</h3>
        <button class="keyboard-modal-close" onclick="hideKeyboardShortcuts()"></button>
      </div>
      <div class="keyboard-shortcuts-list">
        <div class="shortcut-row">
          <kbd>/</kbd>
          <span>Focus search</span>
        </div>
        <div class="shortcut-row">
          <kbd>j</kbd>
          <span>Next story</span>
        </div>
        <div class="shortcut-row">
          <kbd>k</kbd>
          <span>Previous story</span>
        </div>
        <div class="shortcut-row">
          <kbd>Enter</kbd>
          <span>Open selected story</span>
        </div>
        <div class="shortcut-row">
          <kbd>Esc</kbd>
          <span>Close / Clear search / Reset</span>
        </div>
        <div class="shortcut-row">
          <kbd>r</kbd>
          <span>Refresh stories</span>
        </div>
        <div class="shortcut-row">
          <kbd>?</kbd>
          <span>Show this help</span>
        </div>
      </div>
    </div>
  `,document.body.appendChild(e)}function So(){const e=document.getElementById("keyboard-shortcuts-modal");e&&(e.remove(),rs=!1)}Object.assign(window,{initKeyboard:ec,hideKeyboardShortcuts:So});const Rs=[{id:"mock-new-1",repo_name:"repr",author_name:"Mendrika Ramarlina",handle:"pumpfun-trader",verified:!0,signature_status:"all_verified",signed_count:5,total_commits:5,category:"feature",title:"Integrate real-time monitoring system with 6-stage pipeline",problem:"The system lacked real-time market tracking and structured lifecycle management for tokens beyond the initial screening phase.",approach:`Before:
[Screening]

After:
[Helius WS] --> [Bonding Stream]
       |
       v
[SQLite DB] <--- [Monitor Service]
       |
       v
[Dashboard] <--- [Socket.io]`,created_at:new Date(Date.now()-1e3*60*60*24).toISOString(),technologies:["websockets","socket.io","sqlite"],diagram:"const STAGES = ['screening', 'monitoring', 'post-graduation', 'entry-watch', 'holding', 'dropped'];",files:["src/monitor.ts","src/pipeline.ts"]},{id:"mock-new-2",repo_name:"repr-dashboard",author_name:"Mendrika Ramarlina",handle:"pumpfun-trader",verified:!0,category:"feature",title:"SSE-powered screening dashboard",problem:"The long-running screening process was opaque, and there was no interface to view enriched data.",created_at:new Date(Date.now()-1e3*60*60*25).toISOString(),technologies:["server-sent-events(sse)","express.js","rest-api"],files:["dashboard/server.js"]},{id:"mock-1",repo_name:"cli",author_name:"mendrika",verified:!0,signature_status:"all_verified",signed_count:3,total_commits:3,category:"feature",title:"Restore dashboard diff functionality and improve branch suggestions",problem:"The dashboard lacked diff visualization, and internal models required refactoring to support better branch suggestions.",approach:"Executed a refactor of core data models and synthesis logic to improve code representation, then restored the diff view in the dashboard.",created_at:new Date(Date.now()-1e3*60*60*2).toISOString(),technologies:["Python","SQLite","Jinja2"],lessons:["Separating the 'Synthesis' logic from the 'Presentation' logic made the diff rendering 3x faster."],files:["src/dashboard.py","templates/index.html"],implementation_details:["Refactored `DiffGenerator` class to handle binary files gracefully.","Updated Jinja2 templates to loop through file deltas.","Added caching layer for diffs larger than 1MB."],key_snippets:[{file_path:"src/dashboard.py",line_count:15,content:`def get_diff(self, file_path):
    # Check cache first
    if file_path in self.cache:
        return self.cache[file_path]
    
    # Generate diff
    diff = git.diff(file_path)
    return diff`}]},{id:"mock-2",repo_name:"repr",author_name:"johndoe",verified:!1,signature_status:"unsigned",signed_count:0,total_commits:2,category:"chore",title:"docs: update CLI usage messages for clarity",problem:"The previous usage messages were too generic and lacked context for specific arguments.",approach:"Updated help strings in Typer/Click definitions to include examples.",created_at:new Date(Date.now()-1e3*60*60*5).toISOString(),technologies:["Python","Typer"],files:["cli/main.py"]},{id:"mock-3",repo_name:"agent-core",author_name:"alice",verified:!1,signature_status:"partially_signed",signed_count:2,total_commits:4,category:"bugfix",title:"Fix memory leak in background worker",problem:"The worker process was consuming increasing RAM over long execution periods.",approach:"Identified a circular reference in the Task object. Implemented weak references for parent links.",created_at:new Date(Date.now()-1e3*60*60*24).toISOString(),technologies:["Rust","Tokio"],diagram:`Task -> (strong) -> Context -> (strong) -> Task [LEAK]

Fix:
Task -> (strong) -> Context -> (weak) -> Task`}];async function Co(){mc(),_n();try{const[o,l]=await Promise.all([getStatus(),getStories(),window.loadRepos?window.loadRepos():Promise.resolve()]);document.getElementById("status-text").innerText=`${o.count} stories  ${o.repos} repos`,store.update("stories",l.stories),fi(l.stories,o.repos)}catch(o){console.warn("Using mock data:",o),store.update("stories",Rs),document.getElementById("status-text").innerText=`${Rs.length} stories  Demo Mode`,fi(Rs,3)}cc(),lc(),vs(),store.initRouter&&store.initRouter();const e=new URLSearchParams(window.location.search),t=e.get("view"),s=e.get("profile"),i=e.get("user"),n=e.get("story");n?Eo(null,n,!1):s?To(null,s,!1):i?$o(null,decodeURIComponent(i),"",!1):t&&["stories","settings","llm","privacy","repos","cron"].includes(t)&&switchMainView(t,!1)}function fi(e,t){const s=document.getElementById("stat-total-stories"),i=document.getElementById("stat-total-repos");s&&(s.textContent=e.length),i&&(i.textContent=t)}function lc(){const e=document.getElementById("recommended-repos");if(!e)return;const t=store.get("repos")||[],s=document.getElementById("show-more-repos-btn");if(t.length===0){e.innerHTML='<div class="loading-text">No repositories tracked</div>',s&&(s.style.display="none");return}const i=[...t].sort((n,o)=>{var c,p;const l=((c=n.project)==null?void 0:c.name)||n.path.split("/").pop(),a=((p=o.project)==null?void 0:p.name)||o.path.split("/").pop();return l.localeCompare(a)});s&&(s.style.display=i.length>3?"block":"none",e.classList.remove("expanded"),s.textContent="Show more"),e.innerHTML=i.map(n=>{var f;const o=((f=n.project)==null?void 0:f.name)||n.origin_name||n.path.split("/").pop(),l=stringToColor(o),a=o.substring(0,1).toUpperCase(),p=(store.get("stories")||[]).filter(w=>w.repo_name===o).length;return`
      <div class="widget-item" onclick="openProfile(event, '${escapeHtml(o)}')">
        <div class="widget-item-avatar" style="background: ${l}">${a}</div>
        <div class="widget-item-info">
          <div class="widget-item-name">${escapeHtml(o)}</div>
          <div class="widget-item-subtitle">${p} stories</div>
        </div>
      </div>
    `}).join("")}function ac(){const e=document.getElementById("recommended-repos"),t=document.getElementById("show-more-repos-btn");!e||!t||(e.classList.toggle("expanded"),e.classList.contains("expanded")?t.textContent="Show less":t.textContent="Show more")}function cc(){const e=document.getElementById("repo-tabs");if(!e)return;store.get("stories");const t={};let s='<div class="repo-tab active" data-repo="all">All</div>';Object.entries(t).sort((i,n)=>n[1]-i[1]).forEach(([i,n])=>{s+=`<div class="repo-tab" data-repo="${i}">${i}</div>`}),e.innerHTML=s,e.querySelectorAll(".repo-tab").forEach(i=>{i.onclick=()=>{e.querySelectorAll(".repo-tab").forEach(n=>n.classList.remove("active")),i.classList.add("active"),store.update("currentRepo",i.dataset.repo),vs()}})}function vs(){const e=store.get("stories"),t=store.get("currentRepo"),s=store.get("searchQuery");let i=e;t!=="all"&&(i=i.filter(n=>n.repo_name===t)),s&&(i=i.filter(n=>[n.title,n.repo_name,n.category,n.post_body,n.problem,n.approach,...n.technologies||[],...n.files||[]].join(" ").toLowerCase().includes(s))),ys(i)}function dc(e){const t=new Date,s=new Date(e),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(s.getFullYear(),s.getMonth(),s.getDate()),o=Math.floor((i-n)/(1e3*60*60*24));if(o===0)return"Today";if(o===1)return"Yesterday";if(o<7)return"This Week";const l={month:"short",day:"numeric"};return s.getFullYear()!==t.getFullYear()&&(l.year="numeric"),s.toLocaleDateString("en-US",l)}function uc(e){const t={};e.forEach(n=>{const o=n.started_at||n.created_at,l=dc(o);t[l]||(t[l]=[]),t[l].push(n)});const s=["Today","Yesterday","This Week"],i=Object.keys(t).sort((n,o)=>{const l=s.indexOf(n),a=s.indexOf(o);return l!==-1&&a!==-1?l-a:l!==-1?-1:a!==-1?1:new Date(t[o][0].started_at||t[o][0].created_at)-new Date(t[n][0].started_at||t[n][0].created_at)});return{groups:t,labels:i}}function ys(e,t="feed",s={}){const i=document.getElementById(t),n=store.get("searchQuery");if(!e||!e.length){n?i.innerHTML=`
        <div class="empty-state">
          <div class="empty-state-title">No matches found</div>
          <div style="font-size: 14px;">Try adjusting your search query or filters</div>
          <button class="btn btn-secondary" onclick="document.getElementById('search-input').value=''; store.update('searchQuery', ''); filterAndRenderStories();" style="margin-top: 16px;">Clear Search</button>
        </div>`:i.innerHTML=`
        <div class="empty-state">
          <div class="empty-state-title">Your timeline is empty</div>
          <div style="font-size: 14px;">Run your first generation to see your development story</div>
          <button class="btn btn-primary" onclick="triggerGenerationClick()" style="margin-top: 16px;">Generate Now</button>
        </div>`;return}if(n){i.innerHTML=e.map(c=>pi(c,n,s)).join("");return}const{groups:o,labels:l}=uc(e);let a="";l.forEach(c=>{const p=o[c];a+=`
      <div class="date-header">
        <span class="date-header-label">${c}</span>
      </div>
      ${p.map(f=>pi(f,n,s)).join("")}
    `}),i.innerHTML=a}function pi(e,t,s={}){const i=timeSince(new Date(e.started_at||e.created_at)),n=e.category||"chore",o=e.repo_name||"cli";let l=e.author_name||e.username||"unknown";const a=e.verified||!1;highlightText(cleanTitle(e.title),t),e.post_body&&highlightText(e.post_body,t);const c=e.problem?highlightText(e.problem,t):"",p=e.approach?highlightText(e.approach,t):"";let f=stringToColor(l),w=l.substring(0,1).toUpperCase(),T=highlightText(l,t),m=e.handle?`/r/${e.handle}`:`/r/${o}`;const h=a?'<span class="verified-badge" title="GPG signed commits"></span>':"",g=e.author_email||"",x=g?xn(g,80):null,y=x?`<img src="${x}" alt="${escapeHtml(l)}" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">`:w,v=[];e.technologies&&e.technologies.length&&e.technologies.slice(0,3).forEach(Y=>v.push(Y.toLowerCase().replace(/\s+/g,"")));const M=v.length?v.map(Y=>`<span class="hashtag" onclick="filterByTag(event, '${Y}')">#${highlightText(Y,t)}</span>`).join(" "):"",E=p||c;let R="";return e.diagram&&(R+=`<div class="post-media"><pre class="post-diagram">${escapeHtml(e.diagram)}</pre></div>`),e.show&&(R+=`<div class="post-media"><pre class="post-output">${escapeHtml(e.show)}</pre></div>`),`
    <article class="post-card" id="post-${e.id}" onclick="openStory(event, '${e.id}')">
      <div class="post-card-header">
        <div class="post-avatar" style="background:${x?"transparent":f}; cursor: pointer;" onclick="openUser(event, '${escapeHtml(e.author_name||l)}', '${escapeHtml(g)}')">${y}</div>
        <div class="post-header-info">
          <div class="post-header-author">
             <span class="post-author" onclick="openUser(event, '${escapeHtml(e.author_name||l)}', '${escapeHtml(e.author_email||"")}')">${T}${h}</span>
             <span class="post-meta-sep"></span>
             <span class="post-handle" onclick="openProfile(event, '${o}')">${m}</span>
             <span class="post-meta-sep"></span>
             <span class="category-meta ${n}">${n}</span>
             <span class="post-meta-sep"></span>
             <span class="post-time">${i}</span>
          </div>
        </div>
      </div>

      <div class="post-content-full">
         <div class="post-text">${E?`${E}`:""}</div>
         ${R}
         ${M?`<div class="post-tags">${M}</div>`:""}
         ${e.is_publishable?`<div class="post-actions">
           <div class="post-action post-action-publish" title="Publish to cloud" onclick="publishSingleStoryClick(event, '${e.id}')">
             <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
             </svg>
           </div>
         </div>`:""}
      </div>
    </article >
    `}function Eo(e,t,s=!0){const n=store.get("stories").find(O=>O.id===t);if(!n)return;s&&(window.lastScrollY=window.scrollY,document.getElementById("view-profile").style.display==="block"?store.update("previousView","view-profile"):document.getElementById("view-user").style.display==="block"?store.update("previousView","view-user"):store.update("previousView","view-main"),store.pushHistory({view:"detail",storyId:t},`Repr - ${cleanTitle(n.title)} `,` ? story = ${t} `)),["stories","settings","llm","privacy","repos","cron","profile","user"].forEach(O=>{const X=document.getElementById("view-"+O);X&&(X.style.display="none")}),document.getElementById("view-detail").style.display="block",window.scrollTo(0,0);const o=document.getElementById("detail-content"),l=timeSince(new Date(n.started_at||n.created_at)),a=n.category||"update",c=n.repo_name||"cli",p=n.author_name||n.username||"unknown",f=n.verified||!1,w=cleanTitle(n.title),T=f?'<span class="verified-badge" title="GPG signed commits"></span>':"";n.signature_status&&(f||n.signature_status,n.signed_count!==void 0&&`${n.signed_count}${n.total_commits}`),n.technologies&&n.technologies.length&&`${n.technologies.map(O=>`<span class="skill-tag">${escapeHtml(O)}</span>`).join("")}`;const m=n.show?`<div class="snippet-block" style="margin-top:16px"><div class="snippet-header">Output</div><div class="snippet-code"><pre>${escapeHtml(n.show)}</pre></div></div>`:"",h=n.diagram?`<div class="diagram-block"><pre>${escapeHtml(n.diagram)}</pre></div>`:"",g=n.files&&n.files.length?`<div class="section-subtitle">Files Touched</div>
    <div class="files-row">
      ${n.files.map(O=>`<span class="file-tag">${escapeHtml(O.split("/").pop())}</span>`).join("")}
    </div>`:"",x=n.key_snippets&&n.key_snippets.length?`<div class="section-subtitle">Key Snippets</div>
    ${n.key_snippets.map(O=>`
       <div class="snippet-block">
         <div class="snippet-header">${escapeHtml(O.file_path)}</div>
         <div class="snippet-code"><pre>${escapeHtml(O.content)}</pre></div>
       </div>
     `).join("")} `:"",y=n.file_changes&&n.file_changes.length?`<div class="section-subtitle">File Changes</div>
    <ul style="padding-left:16px; color:var(--text-secondary); font-size:15px; margin-bottom: 24px; list-style: none;">
      ${n.file_changes.map(O=>{const X=O.file_path||O.path||"unknown",it=O.change_type||"modified",_e=O.insertions||0,Ne=O.deletions||0,Ae=[];_e>0&&Ae.push(`<span style="color: var(--green);">+${_e}</span>`),Ne>0&&Ae.push(`<span style="color: var(--red);">-${Ne}</span>`);const ot=Ae.length>0?Ae.join("/"):"0 changes";return`<li style="margin-bottom: 4px; font-family: var(--font-mono); font-size: 13px;">
           <span style="color: var(--text-muted);">[${it}]</span> ${escapeHtml(X.split("/").pop())}
           <span style="margin-left: 8px; font-size: 12px;">${ot}</span>
         </li>`}).join("")}
    </ul>`:"",v=stringToColor(p),M=p.substring(0,2).toUpperCase(),E=n.author_email||"",R=xn(E,96),Y=R?`<img src="${R}" alt="${escapeHtml(p)}" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">`:M;o.innerHTML=`
      <div class="post-detail" >
        <div class="post-detail-header">
          <div class="post-avatar" style="background:${R?"transparent":v}; width: 48px; height: 48px; font-size: 18px;" onclick="openUser(event, '${escapeHtml(p)}', '${escapeHtml(E)}')">${Y}</div>
          <div class="post-detail-author-info">
            <div class="post-author" onclick="openUser(event, '${escapeHtml(p)}', '${escapeHtml(E)}')" style="font-size: 16px;">${escapeHtml(p)}${T}</div>
            <div class="post-handle" onclick="openProfile(event, '${c}')" style="font-size: 15px;">@${c}  ${l}</div>
          </div>
          <div class="post-detail-category">
             <span class="category ${a}">${a}</span>
          </div>
        </div>
        
        <div class="post-detail-body">
            <h1 class="post-detail-title">${escapeHtml(w)}</h1>
            ${n.what?`<div class="section-subtitle">What</div><div class="post-detail-text" style="font-size: 16px; margin-bottom: 24px;">${escapeHtml(n.what)}</div>`:""}
            ${n.value?`<div class="section-subtitle">Value</div><div class="post-detail-text" style="font-size: 16px; margin-bottom: 24px;">${escapeHtml(n.value)}</div>`:""}
            
            ${n.decisions&&n.decisions.length?`
               <div class="section-subtitle">Decisions</div>
               <ul class="detail-list" style="margin-bottom: 24px;">
                 ${n.decisions.map(O=>`<li>${escapeHtml(O)}</li>`).join("")}
               </ul>
            `:""}

            ${n.problem?`<div class="post-detail-text" style="font-size: 16px; color: var(--text-primary); margin-bottom: 24px;">${escapeHtml(n.problem)}</div>`:""}
            ${n.post_body?`<div class="post-detail-text" style="font-size: 16px; color: var(--text-primary); margin-bottom: 24px; line-height: 1.6;">${escapeHtml(n.post_body)}</div>`:""}

            ${n.insight?`
              <div class="insight-box" style="margin-top: 24px;">
                <div class="insight-label">Insight</div>
                <div class="insight-text">${escapeHtml(n.insight)}</div>
              </div>
            `:""}

            ${m}
            ${h}

            ${n.lessons&&n.lessons.length?`
              <div class="insight-box" style="margin-top: 32px;">
                <div class="insight-label">Key Insight</div>
                ${n.lessons.map(O=>`<div class="insight-text">${escapeHtml(O)}</div>`).join("")}
              </div>
            `:""}

            ${n.implementation_details&&n.implementation_details.length?`
               <div class="section-subtitle">Implementation</div>
               <ul class="detail-list">
                 ${n.implementation_details.map(O=>`<li>${escapeHtml(O)}</li>`).join("")}
               </ul>
            `:""}

            ${g}
            ${x}
            ${y}
        </div>
        
        <div class="post-detail-footer">
          <div class="post-actions" style="max-width: none; border-top: 1px solid var(--border); padding-top: 12px; margin-top: 32px;">
            <!-- Same actions as card -->
            <div class="post-action">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
              <span>${n.total_commits||""}</span>
            </div>
             <div class="post-action"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg></div>
            <div class="post-action"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg></div>
            <div class="post-action"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg></div>
          </div>
        </div>
      </div>
    `}function To(e,t,s=!0){e&&e.stopPropagation(),s&&(window.lastScrollY=window.scrollY,store.update("previousView","view-profile"),store.pushHistory({view:"profile",repoName:t},`Repr - @${t} `,` ? profile = ${t} `)),["stories","settings","llm","privacy","repos","cron","detail","user"].forEach(h=>{const g=document.getElementById("view-"+h);g&&(g.style.display="none")}),document.getElementById("view-profile").style.display="block",window.scrollTo(0,0);const i=stringToColor(t),n=t.substring(0,1).toUpperCase(),o=document.getElementById("profile-view-avatar");o.style.background=i,o.textContent=n,document.getElementById("profile-view-name").textContent=t,document.getElementById("profile-nav-name").textContent=t,document.getElementById("profile-view-handle").textContent="@"+t;const l=Math.abs(stringToColor(t+"1").hashCode()||0)%360,a=Math.abs(stringToColor(t+"2").hashCode()||0)%360;document.getElementById("profile-cover").style.background=`linear - gradient(135deg, hsl(${l}, 70 %, 80 %) 0 %, hsl(${a}, 70 %, 85 %) 100 %)`;const p=store.get("stories").filter(h=>h.repo_name===t),f=p.reduce((h,g)=>h+(g.total_commits||0),0),w=new Set(p.map(h=>h.author_name)).size;document.getElementById("profile-stories-count").textContent=p.length,document.getElementById("profile-commits-count").textContent=f,document.getElementById("profile-contributors-count").textContent=w,document.getElementById("profile-stats-count").textContent=`+ ${w} contributors`;const T=p[0],m=T?timeSince(new Date(T.started_at||T.created_at)):"a while ago";document.getElementById("profile-view-bio").textContent=`Repository tracked by Repr.Active ${m}. Contains ${p.length} stories.`,ys(p,"profile-feed",{})}function fc(e){function t(v,M){return v<<M|v>>>32-M}function s(v,M){const E=(v&65535)+(M&65535);return(v>>16)+(M>>16)+(E>>16)<<16|E&65535}function i(v,M,E){return v&M|~v&E}function n(v,M,E){return v&E|M&~E}function o(v,M,E){return v^M^E}function l(v,M,E){return M^(v|~E)}function a(v,M,E,R,Y,O,X){return s(t(s(s(v,i(M,E,R)),s(Y,X)),O),M)}function c(v,M,E,R,Y,O,X){return s(t(s(s(v,n(M,E,R)),s(Y,X)),O),M)}function p(v,M,E,R,Y,O,X){return s(t(s(s(v,o(M,E,R)),s(Y,X)),O),M)}function f(v,M,E,R,Y,O,X){return s(t(s(s(v,l(M,E,R)),s(Y,X)),O),M)}function w(v){const M=(v.length+8>>6)+1,E=Array(M*16).fill(0);for(let R=0;R<v.length;R++)E[R>>2]|=v.charCodeAt(R)<<R%4*8;return E[v.length>>2]|=128<<v.length%4*8,E[M*16-2]=v.length*8,E}function T(v){let M="";for(let E=0;E<4;E++)M+=(v>>E*8&255).toString(16).padStart(2,"0");return M}const m=w(e);let h=1732584193,g=4023233417,x=2562383102,y=271733878;for(let v=0;v<m.length;v+=16){const M=h,E=g,R=x,Y=y;h=a(h,g,x,y,m[v],7,3614090360),y=a(y,h,g,x,m[v+1],12,3905402710),x=a(x,y,h,g,m[v+2],17,606105819),g=a(g,x,y,h,m[v+3],22,3250441966),h=a(h,g,x,y,m[v+4],7,4118548399),y=a(y,h,g,x,m[v+5],12,1200080426),x=a(x,y,h,g,m[v+6],17,2821735955),g=a(g,x,y,h,m[v+7],22,4249261313),h=a(h,g,x,y,m[v+8],7,1770035416),y=a(y,h,g,x,m[v+9],12,2336552879),x=a(x,y,h,g,m[v+10],17,4294925233),g=a(g,x,y,h,m[v+11],22,2304563134),h=a(h,g,x,y,m[v+12],7,1804603682),y=a(y,h,g,x,m[v+13],12,4254626195),x=a(x,y,h,g,m[v+14],17,2792965006),g=a(g,x,y,h,m[v+15],22,1236535329),h=c(h,g,x,y,m[v+1],5,4129170786),y=c(y,h,g,x,m[v+6],9,3225465664),x=c(x,y,h,g,m[v+11],14,643717713),g=c(g,x,y,h,m[v],20,3921069994),h=c(h,g,x,y,m[v+5],5,3593408605),y=c(y,h,g,x,m[v+10],9,38016083),x=c(x,y,h,g,m[v+15],14,3634488961),g=c(g,x,y,h,m[v+4],20,3889429448),h=c(h,g,x,y,m[v+9],5,568446438),y=c(y,h,g,x,m[v+14],9,3275163606),x=c(x,y,h,g,m[v+3],14,4107603335),g=c(g,x,y,h,m[v+8],20,1163531501),h=c(h,g,x,y,m[v+13],5,2850285829),y=c(y,h,g,x,m[v+2],9,4243563512),x=c(x,y,h,g,m[v+7],14,1735328473),g=c(g,x,y,h,m[v+12],20,2368359562),h=p(h,g,x,y,m[v+5],4,4294588738),y=p(y,h,g,x,m[v+8],11,2272392833),x=p(x,y,h,g,m[v+11],16,1839030562),g=p(g,x,y,h,m[v+14],23,4259657740),h=p(h,g,x,y,m[v+1],4,2763975236),y=p(y,h,g,x,m[v+4],11,1272893353),x=p(x,y,h,g,m[v+7],16,4139469664),g=p(g,x,y,h,m[v+10],23,3200236656),h=p(h,g,x,y,m[v+13],4,681279174),y=p(y,h,g,x,m[v],11,3936430074),x=p(x,y,h,g,m[v+3],16,3572445317),g=p(g,x,y,h,m[v+6],23,76029189),h=p(h,g,x,y,m[v+9],4,3654602809),y=p(y,h,g,x,m[v+12],11,3873151461),x=p(x,y,h,g,m[v+15],16,530742520),g=p(g,x,y,h,m[v+2],23,3299628645),h=f(h,g,x,y,m[v],6,4096336452),y=f(y,h,g,x,m[v+7],10,1126891415),x=f(x,y,h,g,m[v+14],15,2878612391),g=f(g,x,y,h,m[v+5],21,4237533241),h=f(h,g,x,y,m[v+12],6,1700485571),y=f(y,h,g,x,m[v+3],10,2399980690),x=f(x,y,h,g,m[v+10],15,4293915773),g=f(g,x,y,h,m[v+1],21,2240044497),h=f(h,g,x,y,m[v+8],6,1873313359),y=f(y,h,g,x,m[v+15],10,4264355552),x=f(x,y,h,g,m[v+6],15,2734768916),g=f(g,x,y,h,m[v+13],21,1309151649),h=f(h,g,x,y,m[v+4],6,4149444226),y=f(y,h,g,x,m[v+11],10,3174756917),x=f(x,y,h,g,m[v+2],15,718787259),g=f(g,x,y,h,m[v+9],21,3951481745),h=s(h,M),g=s(g,E),x=s(x,R),y=s(y,Y)}return T(h)+T(g)+T(x)+T(y)}function xn(e,t=134){return e?`https://www.gravatar.com/avatar/${fc(e.trim().toLowerCase())}?s=${t}&d=identicon`:null}function $o(e,t,s,i=!0){e&&e.stopPropagation(),i&&(window.lastScrollY=window.scrollY,store.update("previousView","view-user"),store.pushHistory({view:"user",authorName:t},`Repr - ${t}`,`?user=${encodeURIComponent(t)}`)),["stories","settings","llm","privacy","repos","cron","detail","profile"].forEach(x=>{const y=document.getElementById("view-"+x);y&&(y.style.display="none")}),document.getElementById("view-user").style.display="block",window.scrollTo(0,0);const n=stringToColor(t),o=t.substring(0,1).toUpperCase(),l=document.getElementById("user-view-avatar"),a=xn(s);a?(l.innerHTML=`<img src="${a}" alt="${escapeHtml(t)}" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">`,l.style.background="transparent"):(l.innerHTML=o,l.style.background=n),document.getElementById("user-view-name").textContent=t,document.getElementById("user-nav-name").textContent=t,document.getElementById("user-view-handle").textContent="@"+t.toLowerCase().replace(/\s+/g,"");const c=Math.abs((t+"1").hashCode()||0)%360,p=Math.abs((t+"2").hashCode()||0)%360;document.getElementById("user-cover").style.background=`linear-gradient(135deg, hsl(${c}, 60%, 75%) 0%, hsl(${p}, 60%, 80%) 100%)`;const w=store.get("stories").filter(x=>x.author_name===t),T=w.reduce((x,y)=>x+(y.total_commits||0),0),m=new Set(w.map(x=>x.repo_name)).size;document.getElementById("user-stories-count").textContent=w.length,document.getElementById("user-commits-count").textContent=T,document.getElementById("user-contributors-count").textContent=m,document.getElementById("user-stats-count").textContent=`+${m} repos`;const h=w[0],g=h?timeSince(new Date(h.started_at||h.created_at)):"a while ago";document.getElementById("user-view-bio").textContent=`Developer tracked by Repr. Active ${g}. ${w.length} stories across ${m} repositories.`,ys(w,"user-feed",{})}String.prototype.hashCode=function(){let e=0,t,s;if(this.length===0)return e;for(t=0;t<this.length;t++)s=this.charCodeAt(t),e=(e<<5)-e+s,e|=0;return e};function pc(){const e=document.getElementById("view-profile"),t=document.getElementById("view-user"),s=document.getElementById("view-detail");e&&(e.style.display="none"),t&&(t.style.display="none"),s&&(s.style.display="none"),document.getElementById("view-stories").style.display="block",history.replaceState({view:"main",mainView:"stories"},"Repr",window.location.pathname),window.lastScrollY&&window.scrollTo(0,window.lastScrollY)}async function hc(){showToast("Refreshing...","success"),await Co()}async function gc(){if(confirm("Start generating stories now? This will run in the background."))try{(await triggerGeneration()).success?showToast("Generation started","success"):showToast("Failed to start generation","error")}catch{showToast("Error triggering generation","error")}}function mc(e="feed",t=3){const s=document.getElementById(e);if(!s)return;let i="";for(let n=0;n<t;n++)i+=`
      <div class="skeleton-card">
        <div class="skeleton-avatar skeleton"></div>
        <div class="skeleton-body">
          <div class="skeleton-header skeleton"></div>
          <div class="skeleton-title skeleton"></div>
          <div class="skeleton-text skeleton"></div>
          <div class="skeleton-text skeleton" style="width: 60%"></div>
        </div>
      </div>
    `;s.innerHTML=i}function vc(e,t){e&&e.stopPropagation();const s=document.getElementById("search-input");s.value=t,store.update("searchQuery",t.toLowerCase()),vs(),switchMainView("stories",!1)}async function _n(){try{const e=await getVersion(),t=document.getElementById("version-text"),s=document.getElementById("update-badge");t&&(t.textContent=`v${e.version}`),s&&e.update_available&&(s.style.display="inline-flex",s.title=`Update to v${e.update_available} available! Run: repr update`,s.onclick=()=>{showToast(`Update available: v${e.update_available}
Run 'repr update' in terminal`,"info")})}catch(e){console.warn("Failed to load version info:",e)}}window.openStory=Eo;window.openProfile=To;window.openUser=$o;window.filterByTag=vc;window.triggerGenerationClick=gc;window.goBack=pc;window.refreshStories=hc;window.toggleSubscribedRepos=ac;window.loadVersionInfo=_n;Object.assign(window,{initStories:Co,renderStories:ys,filterAndRenderStories:vs,loadVersionInfo:_n});function yc(e,t=!0){store.update("currentMainView",e),t&&store.pushHistory({view:"main",mainView:e},`Repr - ${e.charAt(0).toUpperCase()+e.slice(1)}`,`?view=${e}`),document.querySelectorAll(".sidebar-item").forEach(n=>{n.classList.toggle("active",n.dataset.view===e)}),document.querySelectorAll(".mobile-nav-item").forEach(n=>{const o=n.querySelector("span:last-child").textContent.toLowerCase();n.classList.toggle("active",e.startsWith(o))}),document.querySelector(".sidebar").classList.contains("open")&&toggleSidebar(),["stories","settings","llm","privacy","repos","cron","detail","profile","social"].forEach(n=>{const o=document.getElementById("view-"+n);o&&(o.style.display="none")});const i=document.getElementById("view-"+e);i&&(i.style.display="block"),["settings","llm","privacy","cron"].includes(e)&&!store.get("config")&&Io(),e==="privacy"&&Po(),e==="repos"&&loadRepos(),e==="cron"&&Sc(),e==="social"&&window.loadSocialView&&window.loadSocialView()}function bc(e){if(store.update("currentSettingsTab",e),document.querySelectorAll(".settings-nav-item").forEach(t=>{t.classList.toggle("active",t.dataset.tab===e)}),document.getElementById("settings-form").style.display=e==="form"?"block":"none",document.getElementById("settings-json").style.display=e==="json"?"block":"none",e==="json"){const t=store.get("config");t&&(document.getElementById("json-editor").value=JSON.stringify(t,null,2))}}async function Io(){try{const e=await getConfig();store.batchUpdate({config:e,configDirty:!1}),Bo(e),document.getElementById("json-editor").value=JSON.stringify(e,null,2),ws()}catch{showToast("Failed to load config","error")}}function Bo(e){var t,s,i,n,o,l,a,c,p,f,w,T,m,h,g,x,y,v;document.getElementById("llm-default").value=((t=e.llm)==null?void 0:t.default)||"local",document.getElementById("llm-local-provider").value=((s=e.llm)==null?void 0:s.local_provider)||"",document.getElementById("llm-local-model").value=((i=e.llm)==null?void 0:i.local_model)||"",document.getElementById("llm-local-url").value=((n=e.llm)==null?void 0:n.local_api_url)||"",document.getElementById("gen-batch-size").value=((o=e.generation)==null?void 0:o.batch_size)||5,document.getElementById("gen-max-commits").value=((l=e.generation)==null?void 0:l.max_commits_per_batch)||50,document.getElementById("gen-template").value=((a=e.generation)==null?void 0:a.default_template)||"resume",document.getElementById("gen-auto-hook").checked=((c=e.generation)==null?void 0:c.auto_generate_on_hook)||!1,document.getElementById("privacy-local-only").checked=((p=e.privacy)==null?void 0:p.lock_local_only)||!1,document.getElementById("privacy-redact-paths").checked=((f=e.llm)==null?void 0:f.cloud_redact_paths)!==!1,document.getElementById("privacy-redact-emails").checked=((w=e.llm)==null?void 0:w.cloud_redact_emails)||!1,document.getElementById("privacy-send-diffs").checked=((T=e.llm)==null?void 0:T.cloud_send_diffs)||!1,document.getElementById("cron-interval").value=((m=e.cron)==null?void 0:m.interval_hours)||4,document.getElementById("cron-min-commits").value=((h=e.cron)==null?void 0:h.min_commits)||3,document.getElementById("cron-installed").checked=((g=e.cron)==null?void 0:g.installed)||!1,document.getElementById("cron-paused").checked=((x=e.cron)==null?void 0:x.paused)||!1,hi("default-paths-container",((y=e.settings)==null?void 0:y.default_paths)||["~/code"],"path"),hi("skip-patterns-container",((v=e.settings)==null?void 0:v.skip_patterns)||[],"pattern")}function wc(){const e=JSON.parse(JSON.stringify(store.get("config")));return e.llm=e.llm||{},e.llm.default=document.getElementById("llm-default").value,e.llm.local_provider=document.getElementById("llm-local-provider").value||null,e.llm.local_model=document.getElementById("llm-local-model").value||null,e.llm.local_api_url=document.getElementById("llm-local-url").value||null,e.generation=e.generation||{},e.generation.batch_size=parseInt(document.getElementById("gen-batch-size").value)||5,e.generation.max_commits_per_batch=parseInt(document.getElementById("gen-max-commits").value)||50,e.generation.default_template=document.getElementById("gen-template").value,e.generation.auto_generate_on_hook=document.getElementById("gen-auto-hook").checked,e.privacy=e.privacy||{},e.privacy.lock_local_only=document.getElementById("privacy-local-only").checked,e.llm.cloud_redact_paths=document.getElementById("privacy-redact-paths").checked,e.llm.cloud_redact_emails=document.getElementById("privacy-redact-emails").checked,e.llm.cloud_send_diffs=document.getElementById("privacy-send-diffs").checked,e.cron=e.cron||{},e.cron.interval_hours=parseInt(document.getElementById("cron-interval").value)||4,e.cron.min_commits=parseInt(document.getElementById("cron-min-commits").value)||3,e.cron.installed=document.getElementById("cron-installed").checked,e.cron.paused=document.getElementById("cron-paused").checked,e.settings=e.settings||{},e.settings.default_paths=gi("default-paths-container"),e.settings.skip_patterns=gi("skip-patterns-container"),e}async function xc(){try{const e=wc();await updateConfig(e),store.batchUpdate({config:e,configDirty:!1}),ws(),showToast("Configuration saved","success")}catch{showToast("Failed to save config","error")}}async function _c(){try{const e=document.getElementById("json-editor").value,t=JSON.parse(e);await updateConfig(t),store.batchUpdate({config:t,configDirty:!1}),Bo(t),ws(),showToast("Configuration saved","success")}catch(e){e instanceof SyntaxError?showToast("Invalid JSON syntax","error"):showToast("Failed to save config","error")}}function kc(){try{const e=document.getElementById("json-editor"),t=JSON.parse(e.value);e.value=JSON.stringify(t,null,2)}catch{showToast("Invalid JSON - cannot format","error")}}function bs(){store.update("configDirty",!0),ws()}function ws(){const e=store.get("configDirty");["save-btn","save-json-btn","save-llm-btn","save-privacy-btn","save-cron-btn"].forEach(s=>{const i=document.getElementById(s);i&&(i.disabled=!e)})}async function Sc(){try{const e=await getCronStatus();store.update("cronStatus",e),Cc(e)}catch{document.getElementById("cron-status").innerHTML='<div class="loading-text">Failed to load cron status</div>'}}function Cc(e){const t=document.getElementById("cron-status");let s="Not installed",i="inactive";e.installed&&(e.paused?(s="Paused",i="paused"):(s="Active",i="active")),t.innerHTML=`
    <div class="cron-status-row">
      <span class="cron-status-label">Status</span>
      <span class="cron-status-value ${i}">${s}</span>
    </div>
    <div class="cron-status-row">
      <span class="cron-status-label">Interval</span>
      <span class="cron-status-value">${e.interval_hours?e.interval_hours+" hours":"Not set"}</span>
    </div>
    <div class="cron-status-row">
      <span class="cron-status-label">Min Commits</span>
      <span class="cron-status-value">${e.min_commits||"Not set"}</span>
    </div>
  `}function hi(e,t,s){const i=document.getElementById(e),n=i.querySelector("input");i.querySelectorAll(".tag-item").forEach(o=>o.remove()),t.forEach(o=>{const l=document.createElement("span");l.className="tag-item",l.innerHTML=`${escapeHtml(o)}<span class="tag-remove" onclick="removeTag(this, '${s}')">&times;</span>`,i.insertBefore(l,n)})}function gi(e){const t=document.getElementById(e);return Array.from(t.querySelectorAll(".tag-item")).map(s=>s.textContent.slice(0,-1))}function Ec(e,t){e.parentElement.remove(),bs()}function Tc(e){if(e.key==="Enter"){e.preventDefault();const t=e.target,s=t.value.trim();if(s){const i=t.parentElement,n=document.createElement("span");n.className="tag-item",n.innerHTML=`${escapeHtml(s)}<span class="tag-remove" onclick="removeTag(this, 'path')">&times;</span>`,i.insertBefore(n,t),t.value="",bs()}}}function $c(e){if(e.key==="Enter"){e.preventDefault();const t=e.target,s=t.value.trim();if(s){const i=t.parentElement,n=document.createElement("span");n.className="tag-item",n.innerHTML=`${escapeHtml(s)}<span class="tag-remove" onclick="removeTag(this, 'pattern')">&times;</span>`,i.insertBefore(n,t),t.value="",bs()}}}window.switchMainView=yc;window.loadConfig=Io;window.saveConfig=xc;window.saveJsonConfig=_c;window.formatJson=kc;window.switchSettingsTab=bc;let xs=!1;async function Po(){try{const e=await fetch(`${window.API_BASE}/api/visibility`);if(e.ok){const t=await e.json();document.getElementById("visibility-profile").value=t.profile||"private",document.getElementById("visibility-repos").value=t.repos_default||"private",document.getElementById("visibility-stories").value=t.stories_default||"private",xs=!1,kn()}}catch(e){console.error("Failed to load visibility settings:",e),document.getElementById("visibility-profile").value="private",document.getElementById("visibility-repos").value="private",document.getElementById("visibility-stories").value="private"}}async function Ic(){const e={profile:document.getElementById("visibility-profile").value,repos_default:document.getElementById("visibility-repos").value,stories_default:document.getElementById("visibility-stories").value};try{const t=await fetch(`${window.API_BASE}/api/visibility`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});xs=!1,kn(),t.ok?(await t.json()).backend_synced?showToast("Visibility saved (local + cloud)","success"):showToast("Visibility saved locally","success"):showToast("Failed to save visibility settings","error")}catch(t){console.error("Failed to save visibility settings:",t),showToast("Failed to save visibility settings","error")}}function Bc(){xs=!0,kn()}function kn(){const e=document.getElementById("save-visibility-btn");e&&(e.disabled=!xs)}Object.assign(window,{handlePathInput:Tc,handlePatternInput:$c,removeTag:Ec,markConfigDirty:bs,loadVisibilitySettings:Po,saveVisibilitySettings:Ic,markVisibilityDirty:Bc});async function mt(){try{const e=await getRepos();store.update("repos",e.repos||[]),Pc()}catch{document.getElementById("repos-list").innerHTML='<div class="loading-text">Failed to load repositories</div>'}}function Pc(){const e=store.get("repos"),t=document.getElementById("repos-list");if(!e.length){t.innerHTML=`
      <div class="empty-state">
        <div class="empty-state-title">No repositories tracked</div>
        <div>Add a repository path above to start tracking</div>
      </div>`;return}t.innerHTML=e.map(s=>{var w;const n=((w=s.project)==null?void 0:w.name)||""||s.origin_name||s.path.split("/").pop(),o=s.paused,l=!s.exists,a=s.hook_installed;let c="active";l?c="missing":o&&(c="paused");const p=s.origin?Rc(s.origin):null,f=escapeHtml(s.path).replace(/'/g,"\\'");return`
      <div class="repo-item ${o?"paused":""} ${l?"missing":""}">
        <div class="repo-info">
          <div class="repo-name-row">
            <span class="repo-name" id="repo-name-${f}" onclick="editRepoName('${f}')">${escapeHtml(n)}</span>
            <button class="repo-edit-btn" onclick="editRepoName('${f}')" title="Edit name"></button>
            ${p?`<a href="${escapeHtml(p)}" target="_blank" rel="noopener noreferrer" class="repo-link" title="Open repository"><span class="repo-link-icon">&#8599;</span></a>`:""}
          </div>
          <div class="repo-path">${escapeHtml(s.path)}</div>
          <div class="repo-status">
            <span class="repo-badge ${c}">${l?"Missing":o?"Paused":"Active"}</span>
            ${a?'<span class="repo-badge hook">Hook</span>':""}
            ${s.last_sync?`<span style="font-size: 11px; color: var(--text-muted);">Last sync: ${new Date(s.last_sync).toLocaleDateString()}</span>`:""}
          </div>
        </div>
        <div class="repo-actions">
          ${o?`<button class="repo-action-btn" onclick="resumeRepoClick('${f}')">Resume</button>`:`<button class="repo-action-btn" onclick="pauseRepoClick('${f}')">Pause</button>`}
          <button class="repo-action-btn danger" onclick="removeRepoClick('${f}')">Remove</button>
        </div>
      </div>
    `}).join("")}async function Mc(){const e=document.getElementById("add-repo-path"),t=e.value.trim();if(!t){showToast("Please enter a repository path","error");return}try{const s=await addRepo(t);s.success?(e.value="",showToast("Repository added","success"),mt()):showToast(s.error||"Failed to add repository","error")}catch{showToast("Failed to add repository","error")}}async function Ac(e){if(confirm("Remove this repository from tracking?"))try{(await removeRepo(e)).success?(showToast("Repository removed","success"),mt()):showToast("Failed to remove repository","error")}catch{showToast("Failed to remove repository","error")}}async function Dc(e){try{(await pauseRepo(e)).success?(showToast("Repository paused","success"),mt()):showToast("Failed to pause repository","error")}catch{showToast("Failed to pause repository","error")}}async function Fc(e){try{(await resumeRepo(e)).success?(showToast("Repository resumed","success"),mt()):showToast("Failed to resume repository","error")}catch{showToast("Failed to resume repository","error")}}function Rc(e){if(!e)return null;if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=e.match(/^git@([^:]+):(.+?)(\.git)?$/);if(t){const i=t[1],n=t[2];return`https://${i}/${n}`}const s=e.match(/^git:\/\/(.+?)(\.git)?$/);return s?`https://${s[1]}`:e}function Oc(e){var l;const s=store.get("repos").find(a=>a.path===e);if(!s)return;const i=((l=s.project)==null?void 0:l.name)||s.origin_name||s.path.split("/").pop();document.getElementById("edit-repo-modal");const n=document.getElementById("edit-repo-name-input"),o=document.getElementById("edit-repo-path-input");n.value=i,o.value=e,openModal("edit-repo-modal"),setTimeout(()=>{n.focus(),n.select()},100)}async function Lc(){const e=document.getElementById("edit-repo-name-input"),t=document.getElementById("edit-repo-path-input"),s=e.value.trim(),i=t.value;if(s===""){showToast("Name cannot be empty","error");return}const n=document.getElementById("save-repo-btn"),o=n.textContent;n.disabled=!0,n.textContent="Saving...";try{const l=await renameRepo(i,s);l.success?(showToast("Project renamed","success"),closeModal("edit-repo-modal"),mt()):showToast(l.error||"Failed to rename project","error")}catch{showToast("Failed to rename project","error")}finally{n.disabled=!1,n.textContent=o}}window.addRepoClick=Mc;window.editRepoName=Oc;window.saveRepoEdit=Lc;Object.assign(window,{loadRepos:mt,removeRepoClick:Ac,pauseRepoClick:Dc,resumeRepoClick:Fc});let N={authenticated:!1,user:null,loginFlow:null,usernameInfo:null,polling:!1,modalOpen:!1},Xt=null;async function jc(){if(!document.getElementById("auth-modal")){const e=document.createElement("div");e.id="auth-modal",e.className="auth-modal",e.addEventListener("click",t=>{t.stopPropagation()}),document.body.appendChild(e)}await Sn(),Vt(),ks()}async function Sn(){try{const e=await window.getAuthStatus();if(N.authenticated=e.authenticated,N.user=e.user,e.authenticated){const t=await window.getUsernameInfo();N.usernameInfo=t}}catch(e){console.error("Failed to fetch auth status:",e)}}function Vt(){var t;const e=document.getElementById("auth-section");if(e)if(N.authenticated&&N.user){const s=(t=N.usernameInfo)!=null&&t.claimed?`@${N.usernameInfo.remote_username}`:N.user.email;e.innerHTML=`
      <div class="auth-connected">
        <div class="auth-user">
          <span class="auth-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </span>
          <span class="auth-name" title="${N.user.email}">${s}</span>
        </div>
        <button class="auth-logout-btn" onclick="handleLogout()" title="Disconnect">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>
    `}else e.innerHTML=`
      <button class="auth-connect-btn" onclick="handleStartLogin()">
        <span class="auth-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
            <polyline points="10 17 15 12 10 7"></polyline>
            <line x1="15" y1="12" x2="3" y2="12"></line>
          </svg>
        </span>
        Connect to repr.dev
      </button>
    `}function Mo(){const e=document.getElementById("auth-modal");e&&(N.modalOpen=!0,e.classList.add("open"),document.body.style.overflow="hidden",Cn())}function _s(){console.log("closeAuthModal called",new Error().stack);const e=document.getElementById("auth-modal");e&&(N.modalOpen=!1,at=!1,e.classList.remove("open"),document.body.style.overflow="")}function Cn(){const e=document.getElementById("auth-modal");if(e)if(N.loginFlow&&N.loginFlow.showError){const t=N.loginFlow.message||"An error occurred";e.innerHTML=`
      <div class="auth-modal-content" onclick="event.stopPropagation()">
        <button class="auth-modal-close" onclick="handleCancelLogin()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <div class="auth-modal-header">
          <div class="auth-modal-icon auth-modal-icon-error">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="15" y1="9" x2="9" y2="15"></line>
              <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
          </div>
          <h2>Connection Failed</h2>
          <p>${t}</p>
        </div>
        <div class="auth-modal-footer">
          <button class="auth-cancel-btn" onclick="handleCancelLogin()">Close</button>
          <button class="auth-retry-btn" onclick="handleRetryLogin()">Try Again</button>
        </div>
      </div>
    `}else N.loginFlow&&N.loginFlow.status==="pending"&&(e.innerHTML=`
      <div class="auth-modal-content" onclick="event.stopPropagation()">
        <button class="auth-modal-close" onclick="handleCancelLogin()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <div class="auth-modal-header">
          <div class="auth-modal-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
              <polyline points="10 17 15 12 10 7"></polyline>
              <line x1="15" y1="12" x2="3" y2="12"></line>
            </svg>
          </div>
          <h2>Connect to repr.dev</h2>
          <p>Enter the code below at the verification page</p>
        </div>
        <div class="auth-modal-body">
          <div class="auth-code">${N.loginFlow.user_code}</div>
          <a href="${N.loginFlow.verification_url}" target="_blank" class="auth-verify-btn">
            Open Verification Page
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
              <polyline points="15 3 21 3 21 9"></polyline>
              <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
          </a>
          <div class="auth-modal-status">
            <span class="auth-spinner"></span>
            Waiting for authorization...
          </div>
        </div>
        <div class="auth-modal-footer">
          <button class="auth-cancel-btn" onclick="handleCancelLogin()">Cancel</button>
        </div>
      </div>
    `)}let at=!1;async function Ao(){if(at||N.modalOpen){console.log("Login already in progress, ignoring");return}at=!0;try{console.log("Starting login flow...");const e=await window.startLogin();console.log("Login flow response:",e),N.loginFlow=e,e.status==="pending"?(Mo(),Hc()):(console.warn("Unexpected flow status:",e.status),at=!1)}catch(e){console.error("Failed to start login:",e),alert("Failed to start login: "+e.message),at=!1}}function Hc(){var t;if(N.polling)return;N.polling=!0;const e=(t=N.loginFlow)==null?void 0:t.device_code;if(!e){console.error("No device code available for polling");return}Xt=setInterval(async()=>{try{console.log("Polling login status...");const s=await window.pollLoginStatus(e);if(console.log("Poll response:",s),s.status==="completed"){Zt();try{await window.saveAuthToken({access_token:s.access_token,user:s.user,litellm_api_key:s.litellm_api_key})}catch(i){console.error("Failed to save token:",i)}_s(),await Sn(),Vt(),ks()}else(s.status==="error"||s.status==="expired"||s.status==="denied")&&(console.log("Error status:",s.status,s.message),Zt(),N.loginFlow={...N.loginFlow,...s,showError:!0},Cn())}catch(s){console.error("Polling error:",s),Zt()}},5e3)}function Zt(){N.polling=!1,Xt&&(clearInterval(Xt),Xt=null)}async function Nc(){Zt(),_s();try{await window.cancelLogin()}catch{}N.loginFlow=null,Vt()}async function Vc(){try{await window.cancelLogin()}catch{}N.loginFlow=null,at=!1,_s(),await Ao()}async function Uc(){try{await window.logout(),N.authenticated=!1,N.user=null,N.usernameInfo=null,Vt(),ks()}catch(e){console.error("Failed to logout:",e)}}let W={scope:"all",repoName:null,storyId:null,includePushed:!1,previewCount:0,previewStories:[],publishing:!1};function ks(){const e=document.getElementById("publish-btn");e&&(e.style.display=N.authenticated?"flex":"none"),N.authenticated?document.body.classList.add("authenticated"):document.body.classList.remove("authenticated")}async function Kc(e="all",t=null,s=null){W.scope=e,W.repoName=t,W.storyId=s,W.includePushed=!1,W.publishing=!1;const i=document.getElementById("publish-include-pushed");i&&(i.checked=!1);const n=document.getElementById("publish-visibility");n&&(n.value="");const o=document.getElementById("publish-result");o&&(o.style.display="none");const l=document.getElementById("publish-modal");l&&(l.style.display="flex"),await Do()}async function Do(){var t;const e=((t=document.getElementById("publish-include-pushed"))==null?void 0:t.checked)||!1;W.includePushed=e;try{const s=await window.getPublishPreview({scope:W.scope,repo_name:W.repoName,story_id:W.storyId,include_pushed:e});W.previewCount=s.count,W.previewStories=s.stories||[];const i=document.getElementById("publish-count");i&&(i.textContent=`${s.count} stories`);const n=document.getElementById("publish-preview-info");if(n){let a=W.scope==="repo"?`Publishing stories from "${W.repoName}"`:W.scope==="story"?"Publishing single story":"Publishing all stories";s.filtered_count>0&&(a+=` (${s.filtered_count} from other authors hidden)`),n.querySelector("p").textContent=a}const o=document.getElementById("publish-preview-list");o&&(W.previewStories.length===0?o.innerHTML='<div style="padding: 16px; color: var(--text-muted); text-align: center;">No stories to publish</div>':o.innerHTML=W.previewStories.slice(0,10).map(a=>`
          <div style="padding: 10px 12px; border-bottom: 1px solid var(--border);">
            <div style="font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${Fo(a.title)}</div>
            <div style="font-size: 12px; color: var(--text-muted);">${a.visibility||"private"}</div>
          </div>
        `).join("")+(W.previewCount>10?`
          <div style="padding: 10px 12px; color: var(--text-muted); font-size: 13px;">
            ... and ${W.previewCount-10} more
          </div>
        `:""));const l=document.getElementById("publish-btn-text");l&&(l.textContent=`Publish ${s.count} stories`)}catch(s){console.error("Failed to get publish preview:",s)}}async function Wc(){var i;if(W.publishing||W.previewCount===0)return;W.publishing=!0;const e=document.getElementById("do-publish-btn"),t=document.getElementById("publish-btn-text");e&&(e.disabled=!0),t&&(t.textContent="Publishing...");const s=document.getElementById("publish-result");try{const n=((i=document.getElementById("publish-visibility"))==null?void 0:i.value)||null,o=await window.publishStories({scope:W.scope,repo_name:W.repoName,story_id:W.storyId,visibility:n||void 0,include_pushed:W.includePushed});o.success?(s&&(s.style.display="block",s.style.background="var(--green-bg, #d1fae5)",s.style.color="var(--green-text, #065f46)",s.innerHTML=`Published ${o.published_count} stories${o.failed_count?` (${o.failed_count} failed)`:""}`),setTimeout(()=>{Ro("publish-modal")},2e3)):s&&(s.style.display="block",s.style.background="var(--red-bg, #fee2e2)",s.style.color="var(--red-text, #991b1b)",s.innerHTML=o.error||"Publish failed")}catch(n){console.error("Publish failed:",n),s&&(s.style.display="block",s.style.background="var(--red-bg, #fee2e2)",s.style.color="var(--red-text, #991b1b)",s.innerHTML=n.message||"Publish failed")}finally{W.publishing=!1,e&&(e.disabled=!1),t&&(t.textContent=`Publish ${W.previewCount} stories`)}}async function Jc(e,t){e.stopPropagation(),e.preventDefault();const s=e.currentTarget;if(!s.classList.contains("publishing")){s.classList.add("publishing");try{const i=await window.publishSingleStory(t);s.classList.remove("publishing"),i.success?(s.classList.add("success"),setTimeout(()=>{s.classList.remove("success")},2e3)):(s.classList.add("error"),setTimeout(()=>{s.classList.remove("error")},2e3))}catch(i){console.error("Single story publish failed:",i),s.classList.remove("publishing"),s.classList.add("error"),setTimeout(()=>{s.classList.remove("error")},2e3)}}}function Fo(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function Ro(e){const t=document.getElementById(e);t&&(t.style.display="none")}Object.assign(window,{initAuth:jc,refreshAuthStatus:Sn,renderAuthSection:Vt,openAuthModal:Mo,closeAuthModal:_s,renderAuthModal:Cn,handleStartLogin:Ao,handleCancelLogin:Nc,handleRetryLogin:Vc,handleLogout:Uc,updatePublishButton:ks,openPublishModal:Kc,refreshPublishPreview:Do,doPublish:Wc,publishSingleStoryClick:Jc,closeModal:Ro,escapeHtml:Fo});let jt=[],Ys={},Qs="all";async function zc(e=null,t=null){let s="/api/social/drafts";const i=new URLSearchParams;return e&&e!=="all"&&i.append("platform",e),t&&i.append("status",t),i.toString()&&(s+="?"+i.toString()),(await(await fetch(s)).json()).drafts||[]}async function Gc(){return(await fetch("/api/social/connections")).json()}async function qc(e={}){return(await fetch("/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days:e.days||7,limit:e.limit||5,use_llm:e.useLlm!==!1,platforms:e.platforms||null})})).json()}async function Yc(e,t=null){return(await fetch(`/api/social/drafts/${e}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:t})})).json()}async function Oo(e,t){return(await fetch(`/api/social/drafts/${e}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}async function Qc(e){return(await fetch(`/api/social/drafts/${e}/delete`,{method:"POST"})).json()}function Xc(e){const t=document.getElementById("social-connections");if(!t)return;const s=e.connections||{},i=e.stats||{},n=[{id:"twitter",name:"Twitter/X",icon:"",supportsOAuth:!0},{id:"linkedin",name:"LinkedIn",icon:"",supportsOAuth:!0},{id:"reddit",name:"Reddit",icon:"",supportsOAuth:!1},{id:"hackernews",name:"Hacker News",icon:"",supportsOAuth:!1},{id:"indiehackers",name:"IndieHackers",icon:"",supportsOAuth:!1}],o=i.drafts_by_platform||{};t.innerHTML=n.map(l=>{const a=s[l.id]||{},c=a.connected,p=o[l.id]||0;return`
            <div class="connection-card ${c?"connected":""}">
                <div class="connection-icon">${l.icon}</div>
                <div class="connection-info">
                    <div class="connection-name">${l.name}</div>
                    <div class="connection-status">
                        ${c?`@${a.username}`:l.supportsOAuth?"Not connected":"Manual posting"}
                    </div>
                    <div class="connection-drafts">${p} draft${p!==1?"s":""}</div>
                </div>
                ${l.supportsOAuth?`
                    <button class="btn btn-sm ${c?"btn-secondary":"btn-primary"}" 
                            onclick="${c?`disconnectPlatform('${l.id}')`:`connectPlatform('${l.id}')`}">
                        ${c?"Disconnect":"Connect"}
                    </button>
                `:""}
            </div>
        `}).join("")}function Zc(e){const t=document.getElementById("social-drafts-list");if(!t)return;if(!e||e.length===0){t.innerHTML=`
            <div class="empty-state">
                <div class="empty-icon"></div>
                <div class="empty-title">No drafts yet</div>
                <div class="empty-text">Generate drafts from your recent stories</div>
                <button class="btn btn-primary" onclick="generateSocialDrafts()">Generate Drafts</button>
            </div>
        `;return}const s={twitter:"",linkedin:"",reddit:"",hackernews:"",indiehackers:""},i={draft:"var(--brand-primary)",posted:"var(--success)",failed:"var(--error)",scheduled:"var(--warning)"};t.innerHTML=e.map(n=>{const o=n.platform||"unknown",l=n.status||"draft",a=(n.content||"").substring(0,150),c=s[o]||"",p=n.created_at?new Date(n.created_at).toLocaleDateString():"";return`
            <div class="draft-card" data-draft-id="${n.id}" data-platform="${o}">
                <div class="draft-header">
                    <span class="draft-platform">${c} ${o}</span>
                    <span class="draft-status" style="color: ${i[l]}">${l}</span>
                </div>
                ${n.title?`<div class="draft-title">${ls(n.title)}</div>`:""}
                <div class="draft-preview">${ls(a)}${n.content&&n.content.length>150?"...":""}</div>
                ${n.thread_parts&&n.thread_parts.length>0?`<div class="draft-thread-badge"> ${n.thread_parts.length+1} tweets</div>`:""}
                <div class="draft-footer">
                    <span class="draft-date">${p}</span>
                    <div class="draft-actions">
                        <button class="btn btn-sm btn-secondary" onclick="editDraft('${n.id}')" title="Edit"></button>
                        <button class="btn btn-sm btn-secondary" onclick="copyDraft('${n.id}')" title="Copy"></button>
                        ${l==="draft"?`
                            <button class="btn btn-sm btn-primary" onclick="postDraftClick('${n.id}')" title="Post"> Post</button>
                        `:""}
                        <button class="btn btn-sm btn-danger" onclick="deleteDraftClick('${n.id}')" title="Delete"></button>
                    </div>
                </div>
            </div>
        `}).join("")}function ls(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}window.generateSocialDrafts=async function(){const e=document.getElementById("social-drafts-list");e&&(e.innerHTML='<div class="loading-text">Generating drafts from recent stories...</div>');try{const t=await qc({days:7,limit:5});t.success?(se(`Generated ${t.count} draft${t.count!==1?"s":""}!`,"success"),await En()):(se(t.error||"Failed to generate drafts","error"),await Ye())}catch(t){se("Error generating drafts: "+t.message,"error"),await Ye()}};window.filterSocialDrafts=async function(e){Qs=e,document.querySelectorAll("#social-platform-tabs .settings-nav-item").forEach(t=>{t.classList.toggle("active",t.dataset.platform===e)}),await Ye()};window.connectPlatform=function(e){se(`Connect ${e} using CLI: repr social connect ${e}`,"info")};window.disconnectPlatform=async function(e){if(confirm(`Disconnect from ${e}?`))try{const s=await(await fetch("/api/social/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:e})})).json();s.success?(se(`Disconnected from ${e}`,"success"),await Lo()):se(s.error||"Failed to disconnect","error")}catch(t){se("Error: "+t.message,"error")}};window.editDraft=function(e){const t=jt.find(s=>s.id===e);t&&ed(t)};window.copyDraft=function(e){const t=jt.find(i=>i.id===e);if(!t)return;let s="";t.title&&(s+=t.title+`

`),s+=t.content||"",navigator.clipboard.writeText(s).then(()=>{se("Copied to clipboard!","success")}).catch(()=>{se("Failed to copy","error")})};window.postDraftClick=async function(e){var n;const t=jt.find(o=>o.id===e);if(!t)return;const s=t.platform,i=(n=Ys.connections)==null?void 0:n[s];if(["twitter","linkedin"].includes(s)&&!(i!=null&&i.connected)){se(`Connect to ${s} first: repr social connect ${s}`,"warning");return}if(!["twitter","linkedin"].includes(s)){copyDraft(e),se(`Content copied! Paste it into ${s} manually.`,"info"),await Oo(e,{status:"posted"}),await Ye();return}if(confirm(`Post to ${s}?`))try{const o=await Yc(e);o.success?(se("Posted successfully!","success"),o.post_url&&window.open(o.post_url,"_blank"),await Ye()):se(o.error||"Failed to post","error")}catch(o){se("Error: "+o.message,"error")}};window.deleteDraftClick=async function(e){if(confirm("Delete this draft?"))try{const t=await Qc(e);t.success?(se("Draft deleted","success"),await Ye()):se(t.error||"Failed to delete","error")}catch(t){se("Error: "+t.message,"error")}};function ed(e){let t=document.getElementById("edit-draft-modal");t||(t=document.createElement("div"),t.id="edit-draft-modal",t.className="modal-overlay",t.onclick=function(n){n.target===this&&closeModal("edit-draft-modal")},document.body.appendChild(t)),t.innerHTML=`
        <div class="modal-container" style="max-width: 600px;">
            <div class="modal-header">
                <h3 class="modal-title">Edit Draft (${e.platform})</h3>
                <button class="modal-close" onclick="closeModal('edit-draft-modal')">&times;</button>
            </div>
            <div class="modal-body">
                ${e.title!==void 0?`
                    <div class="settings-group">
                        <label class="settings-label">Title</label>
                        <input type="text" class="settings-input" id="edit-draft-title" value="${ls(e.title||"")}">
                    </div>
                `:""}
                <div class="settings-group">
                    <label class="settings-label">Content</label>
                    <textarea class="settings-input" id="edit-draft-content" rows="8" style="resize: vertical;">${ls(e.content||"")}</textarea>
                    <div class="settings-hint">
                        <span id="edit-draft-char-count">${(e.content||"").length}</span> characters
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('edit-draft-modal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveEditedDraft('${e.id}')">Save</button>
            </div>
        </div>
    `,t.style.display="flex";const s=document.getElementById("edit-draft-content"),i=document.getElementById("edit-draft-char-count");s&&i&&(s.oninput=()=>{i.textContent=s.value.length})}window.saveEditedDraft=async function(e){var i,n;const t=(i=document.getElementById("edit-draft-title"))==null?void 0:i.value,s=(n=document.getElementById("edit-draft-content"))==null?void 0:n.value;try{const o=await Oo(e,{title:t,content:s});o.success?(se("Draft updated","success"),closeModal("edit-draft-modal"),await Ye()):se(o.error||"Failed to update","error")}catch(o){se("Error: "+o.message,"error")}};function se(e,t="info"){if(window.showNotification){window.showNotification(e,t);return}const s=document.createElement("div");s.className=`toast toast-${t}`,s.textContent=e,s.style.cssText=`
        position: fixed; bottom: 20px; right: 20px; padding: 12px 20px;
        background: var(--surface); border: 1px solid var(--border);
        border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000; animation: slideIn 0.3s ease;
    `,document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOut 0.3s ease",setTimeout(()=>s.remove(),300)},3e3)}async function Lo(){try{Ys=await Gc(),Xc(Ys)}catch(e){console.error("Failed to load connections:",e)}}async function Ye(){try{jt=await zc(Qs==="all"?null:Qs),Zc(jt)}catch(e){console.error("Failed to load drafts:",e);const t=document.getElementById("social-drafts-list");t&&(t.innerHTML='<div class="error-text">Failed to load drafts</div>')}}async function En(){await Promise.all([Lo(),Ye()])}window.initSocial=En;window.loadSocialView=En;const td={class:"dashboard",id:"view-main"},sd={class:"main-content"},nd={class:"main-layout"},id={class:"feed-column"},od={id:"view-social",style:{display:"none"}},rd={class:"tabs-bar"},ld={style:{display:"flex",gap:"8px","margin-left":"auto"}},ad={class:"btn btn-primary",onclick:"generateSocialDrafts()"},cd={width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",style:{"margin-right":"4px"}},dd={__name:"App",setup(e){return Gi(()=>{/(Mac|iPhone|iPad|iPod)/i.test(navigator.platform)||document.body.classList.add("is-windows"),window.initTheme&&window.initTheme(),window.initKeyboard&&window.initKeyboard();const t=document.getElementById("search-input");t&&t.addEventListener("input",s=>{window.store&&(window.store.update("searchQuery",s.target.value.trim().toLowerCase()),window.filterAndRenderStories&&window.filterAndRenderStories())}),window.initStories&&window.initStories(),window.initAuth&&window.initAuth()}),(t,s)=>(Jn(),Gn(be,null,[r("div",td,[s[14]||(s[14]=r("div",{class:"sidebar-overlay",onclick:"toggleSidebar()"},null,-1)),s[15]||(s[15]=r("aside",{class:"sidebar"},[r("div",{class:"sidebar-header"},[r("div",{class:"sidebar-logo"},[r("div",{class:"sidebar-avatar"},"R"),r("div",null,[r("div",{class:"sidebar-title"},"Repr"),r("div",{class:"sidebar-subtitle"},"Dashboard")])])]),r("nav",{class:"sidebar-nav"},[r("div",{class:"sidebar-section"},[r("div",{class:"sidebar-section-title"},"Overview"),r("div",{class:"sidebar-item active","data-view":"stories",onclick:"switchMainView('stories')",role:"button","aria-label":"View Stories"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),r("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})])]),ne(" Stories ")]),r("div",{class:"sidebar-item","data-view":"repos",onclick:"switchMainView('repos')",role:"button","aria-label":"View Repositories"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])]),ne(" Repositories ")])]),r("div",{class:"sidebar-section"},[r("div",{class:"sidebar-section-title"},"Configuration"),r("div",{class:"sidebar-item","data-view":"settings",onclick:"switchMainView('settings')",role:"button","aria-label":"Settings"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("circle",{cx:"12",cy:"12",r:"3"}),r("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})])]),ne(" Settings ")]),r("div",{class:"sidebar-item","data-view":"llm",onclick:"switchMainView('llm')",role:"button","aria-label":"LLM Configuration"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10z"}),r("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),r("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),r("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})])]),ne(" LLM ")]),r("div",{class:"sidebar-item","data-view":"privacy",onclick:"switchMainView('privacy')",role:"button","aria-label":"Privacy Settings"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),r("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})])]),ne(" Privacy ")]),r("div",{class:"sidebar-item","data-view":"cron",onclick:"switchMainView('cron')",role:"button","aria-label":"Cron Settings"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("circle",{cx:"12",cy:"12",r:"10"}),r("polyline",{points:"12 6 12 12 16 14"})])]),ne(" Cron ")]),r("div",{class:"sidebar-item","data-view":"social",onclick:"switchMainView('social')",role:"button","aria-label":"Social Posts"},[r("span",{class:"sidebar-icon","aria-hidden":"true"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M4 4l4 4m8 8l4 4M4 20l4-4m8-8l4-4M12 3v3m0 12v3M3 12h3m12 0h3"})])]),ne(" Social Posts ")])])]),r("div",{id:"auth-section",class:"auth-section"}),r("div",{class:"sidebar-footer"},[r("div",{class:"sidebar-status"},[r("span",{class:"status-dot"}),r("span",{id:"status-text"},"Loading...")]),r("div",{class:"sidebar-version",id:"version-info"},[r("span",{id:"version-text",class:"version-text"}),r("span",{id:"update-badge",class:"update-badge",style:{display:"none"},title:"Update available! Run: repr update"},[r("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("circle",{cx:"12",cy:"12",r:"10"}),r("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]),ne(" Update ")])]),r("div",{class:"sidebar-item theme-toggle-compact",id:"theme-toggle",onclick:"toggleTheme()"},[r("span",{class:"sidebar-icon theme-toggle-icon"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})])]),ne(" Toggle Theme ")])])],-1)),r("main",sd,[r("div",nd,[r("div",id,[s[4]||(s[4]=r("div",{id:"view-stories"},[r("div",{class:"tabs-bar"},[r("div",{class:"mobile-menu-toggle",onclick:"toggleSidebar()"},[r("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r("line",{x1:"3",y1:"18",x2:"21",y2:"18"})])]),r("div",{class:"search-container"},[r("div",{class:"search-icon"},[r("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[r("circle",{cx:"11",cy:"11",r:"8"}),r("path",{d:"m21 21-4.35-4.35"})])]),r("input",{type:"text",id:"search-input",class:"search-input",placeholder:"Search stories..."}),r("kbd",{class:"search-shortcut"},[r("span",{class:"search-shortcut-mod"}),ne("K")])]),r("button",{id:"publish-btn",class:"publish-btn",onclick:"openPublishModal()",style:{display:"none"},title:"Publish to Cloud"},[r("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),r("span",null,"Publish")])]),r("div",{class:"feed-wrapper"},[r("div",{class:"feed",id:"feed"})])],-1)),s[5]||(s[5]=r("div",{id:"view-detail",style:{display:"none"}},[r("div",{class:"tabs-bar"},[r("div",{class:"back-button",onclick:"goBack()"},[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r("polyline",{points:"12 19 5 12 12 5"})])]),r("div",{class:"view-title"},"Post")]),r("div",{id:"detail-content"})],-1)),s[6]||(s[6]=r("div",{id:"view-profile",style:{display:"none"}},[r("div",{class:"profile-container"},[r("div",{class:"profile-header-nav"},[r("div",{class:"back-button",onclick:"goBack()"},[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r("polyline",{points:"12 19 5 12 12 5"})])]),r("div",{class:"profile-nav-title",id:"profile-nav-name"},"Profile")]),r("div",{class:"profile-cover",id:"profile-cover"}),r("div",{class:"profile-content"},[r("div",{class:"profile-top-section"},[r("div",{class:"profile-avatar-wrapper"},[r("div",{class:"profile-avatar-large",id:"profile-view-avatar"},"R")]),r("div",{class:"profile-actions"})]),r("div",{class:"profile-details"},[r("div",{class:"profile-name-row"},[r("h1",{id:"profile-view-name"},"Repo Name"),r("span",{class:"verified-badge-large",id:"profile-verified-badge",style:{display:"none"}},[r("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[r("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})])])]),r("div",{class:"profile-handle",id:"profile-view-handle"},"@repo"),r("div",{class:"profile-bio",id:"profile-view-bio"}," Repository timeline and activity. "),r("div",{class:"profile-metadata-row"},[r("div",{class:"profile-pill"},[r("span",{class:"pill-icon"},""),r("span",{id:"profile-repo-link"},"Repository")]),r("div",{class:"profile-pill"},[r("span",{class:"pill-icon"},""),r("span",{id:"profile-web-link"},"Website")]),r("div",{class:"profile-pill-count",id:"profile-stats-count"},"+2")]),r("div",{class:"profile-stats-row"},[r("span",{class:"stat-item"},[r("strong",{id:"profile-stories-count"},"0"),ne(),r("span",{class:"stat-label"},"Stories")]),r("span",{class:"stat-item"},[r("strong",{id:"profile-commits-count"},"0"),ne(),r("span",{class:"stat-label"},"Commits")]),r("span",{class:"stat-item"},[r("strong",{id:"profile-contributors-count"},"0"),ne(),r("span",{class:"stat-label"},"Contributors")])])]),r("div",{class:"feed-container",style:{"padding-top":"0"}},[r("div",{class:"feed",id:"profile-feed"})])])])],-1)),s[7]||(s[7]=r("div",{id:"view-user",style:{display:"none"}},[r("div",{class:"profile-container"},[r("div",{class:"profile-header-nav"},[r("div",{class:"back-button",onclick:"goBack()"},[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r("polyline",{points:"12 19 5 12 12 5"})])]),r("div",{class:"profile-nav-title",id:"user-nav-name"},"User Profile")]),r("div",{class:"profile-cover",id:"user-cover"}),r("div",{class:"profile-content"},[r("div",{class:"profile-top-section"},[r("div",{class:"profile-avatar-wrapper"},[r("div",{class:"profile-avatar-large",id:"user-view-avatar"},"U")]),r("div",{class:"profile-actions"})]),r("div",{class:"profile-details"},[r("div",{class:"profile-name-row"},[r("h1",{id:"user-view-name"},"User Name"),r("span",{class:"verified-badge-large",id:"user-verified-badge",style:{display:"none"}},[r("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[r("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})])])]),r("div",{class:"profile-handle",id:"user-view-handle"},"@user"),r("div",{class:"profile-bio",id:"user-view-bio"}," User activity. "),r("div",{class:"profile-metadata-row"},[r("div",{class:"profile-pill"},[r("span",{class:"pill-icon"},""),r("span",{id:"user-repo-link"},"Github")]),r("div",{class:"profile-pill"},[r("span",{class:"pill-icon"},""),r("span",{id:"user-web-link"},"Website")]),r("div",{class:"profile-pill-count",id:"user-stats-count"},"+2")]),r("div",{class:"profile-stats-row"},[r("span",{class:"stat-item"},[r("strong",{id:"user-stories-count"},"0"),ne(),r("span",{class:"stat-label"},"Stories")]),r("span",{class:"stat-item"},[r("strong",{id:"user-commits-count"},"0"),ne(),r("span",{class:"stat-label"},"Commits")]),r("span",{class:"stat-item"},[r("strong",{id:"user-contributors-count"},"0"),ne(),r("span",{class:"stat-label"},"Repos")])])]),r("div",{class:"feed-container",style:{"padding-top":"0"}},[r("div",{class:"feed",id:"user-feed"})])])])],-1)),s[8]||(s[8]=r("div",{id:"view-settings",style:{display:"none"}},[r("div",{class:"tabs-bar"},[r("div",{class:"view-title"},"Settings")]),r("div",{class:"content-body"},[r("div",{class:"settings-container"},[r("nav",{class:"settings-nav"},[r("div",{class:"settings-nav-item active","data-tab":"form",onclick:"switchSettingsTab('form')"},"Form"),r("div",{class:"settings-nav-item","data-tab":"json",onclick:"switchSettingsTab('json')"},"JSON")]),r("div",{id:"settings-form",class:"settings-content"},[r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Generation"),r("div",{class:"settings-row"},[r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Commits per Story"),r("input",{type:"number",class:"settings-input",id:"gen-batch-size",min:"1",max:"50",oninput:"markConfigDirty()"}),r("div",{class:"settings-hint"},"How many commits to group into a single story")]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Max Commits per Batch"),r("input",{type:"number",class:"settings-input",id:"gen-max-commits",min:"1",max:"200",oninput:"markConfigDirty()"})])]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Default Template"),r("select",{class:"settings-select",id:"gen-template",onchange:"markConfigDirty()"},[r("option",{value:"resume"},"Resume"),r("option",{value:"technical"},"Technical"),r("option",{value:"narrative"},"Narrative")])]),r("div",{class:"settings-checkbox-row"},[r("input",{type:"checkbox",class:"settings-checkbox",id:"gen-auto-hook",onchange:"markConfigDirty()"}),r("label",{class:"settings-checkbox-label",for:"gen-auto-hook"},"Auto-generate on git hook")])]),r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Paths"),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Default Scan Paths"),r("div",{class:"tags-input",id:"default-paths-container"},[r("input",{type:"text",placeholder:"Add path and press Enter",onkeydown:"handlePathInput(event)"})]),r("div",{class:"settings-hint"},"Directories to scan for git repositories")]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Skip Patterns"),r("div",{class:"tags-input",id:"skip-patterns-container"},[r("input",{type:"text",placeholder:"Add pattern and press Enter",onkeydown:"handlePatternInput(event)"})]),r("div",{class:"settings-hint"},"Directory names to skip when scanning")])]),r("div",{class:"btn-row"},[r("button",{class:"btn btn-primary",onclick:"saveConfig()",id:"save-btn",disabled:""},"Save Changes"),r("button",{class:"btn btn-secondary",onclick:"loadConfig()"},"Reset")])]),r("div",{id:"settings-json",class:"settings-content",style:{display:"none"}},[r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Raw Configuration (JSON)"),r("textarea",{class:"json-editor",id:"json-editor",oninput:"markConfigDirty()"}),r("div",{class:"settings-hint"},"Edit the raw JSON configuration. Be careful with syntax.")]),r("div",{class:"btn-row"},[r("button",{class:"btn btn-primary",onclick:"saveJsonConfig()",id:"save-json-btn",disabled:""},"Save JSON"),r("button",{class:"btn btn-secondary",onclick:"loadConfig()"},"Reset"),r("button",{class:"btn btn-secondary",onclick:"formatJson()"},"Format")])])])])],-1)),s[9]||(s[9]=r("div",{id:"view-llm",style:{display:"none"}},[r("div",{class:"tabs-bar"},[r("div",{class:"view-title"},"LLM Configuration")]),r("div",{class:"content-body"},[r("div",{class:"settings-container"},[r("div",{class:"settings-content"},[r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Mode"),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Default Mode"),r("select",{class:"settings-select",id:"llm-default",onchange:"markConfigDirty()"},[r("option",{value:"local"},"Local (Ollama/LM Studio)"),r("option",{value:"cloud"},"Cloud (repr.dev)"),r("option",{value:"byok:openai"},"BYOK: OpenAI"),r("option",{value:"byok:anthropic"},"BYOK: Anthropic"),r("option",{value:"byok:groq"},"BYOK: Groq"),r("option",{value:"byok:together"},"BYOK: Together AI")])])]),r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Local Provider"),r("div",{class:"settings-row"},[r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Provider"),r("select",{class:"settings-select",id:"llm-local-provider",onchange:"markConfigDirty()"},[r("option",{value:""},"Not configured"),r("option",{value:"ollama"},"Ollama"),r("option",{value:"lmstudio"},"LM Studio"),r("option",{value:"custom"},"Custom")])]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Model"),r("input",{type:"text",class:"settings-input",id:"llm-local-model",placeholder:"e.g., llama3.2",oninput:"markConfigDirty()"})])]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"API URL"),r("input",{type:"text",class:"settings-input",id:"llm-local-url",placeholder:"http://localhost:11434/v1",oninput:"markConfigDirty()"})])]),r("div",{class:"btn-row"},[r("button",{class:"btn btn-primary",onclick:"saveConfig()",id:"save-llm-btn",disabled:""},"Save Changes"),r("button",{class:"btn btn-secondary",onclick:"loadConfig()"},"Reset")])])])])],-1)),s[10]||(s[10]=r("div",{id:"view-privacy",style:{display:"none"}},[r("div",{class:"tabs-bar"},[r("div",{class:"view-title"},"Privacy")]),r("div",{class:"content-body"},[r("div",{class:"settings-container"},[r("div",{class:"settings-content"},[r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Data Sharing"),r("div",{class:"settings-checkbox-row"},[r("input",{type:"checkbox",class:"settings-checkbox",id:"privacy-local-only",onchange:"markConfigDirty()"}),r("label",{class:"settings-checkbox-label",for:"privacy-local-only"},"Lock to local-only mode")]),r("div",{class:"settings-checkbox-row"},[r("input",{type:"checkbox",class:"settings-checkbox",id:"privacy-send-diffs",onchange:"markConfigDirty()"}),r("label",{class:"settings-checkbox-label",for:"privacy-send-diffs"},"Send diffs to cloud")])]),r("div",{class:"btn-row"},[r("button",{class:"btn btn-primary",onclick:"saveConfig()",id:"save-privacy-btn",disabled:""},"Save Changes"),r("button",{class:"btn btn-secondary",onclick:"loadConfig()"},"Reset")])]),r("div",{class:"settings-content",style:{"margin-top":"24px"}},[r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Visibility Settings"),r("p",{class:"settings-hint"},"Control who can see your profile, repos, and stories"),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Profile Visibility"),r("select",{class:"settings-select",id:"visibility-profile",onchange:"markVisibilityDirty()"},[r("option",{value:"private",selected:""},"Private - Only you"),r("option",{value:"connections"},"Connections - Only friends"),r("option",{value:"public"},"Public - Anyone can see")])]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Default Repo Visibility"),r("select",{class:"settings-select",id:"visibility-repos",onchange:"markVisibilityDirty()"},[r("option",{value:"private",selected:""},"Private - Only you"),r("option",{value:"connections"},"Connections - Only friends"),r("option",{value:"public"},"Public - Anyone can see")])]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Default Story Visibility"),r("select",{class:"settings-select",id:"visibility-stories",onchange:"markVisibilityDirty()"},[r("option",{value:"private",selected:""},"Private - Only you"),r("option",{value:"connections"},"Connections - Only friends"),r("option",{value:"public"},"Public - Anyone can see")])]),r("div",{class:"btn-row"},[r("button",{class:"btn btn-primary",onclick:"saveVisibilitySettings()",id:"save-visibility-btn",disabled:""},"Save Visibility")])])])])])],-1)),s[11]||(s[11]=r("div",{id:"view-repos",style:{display:"none"}},[r("div",{class:"tabs-bar"},[r("div",{class:"view-title"},"Explore")]),r("div",{class:"content-body"},[r("div",{class:"settings-container"},[r("div",{class:"settings-content"},[r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Add Repository"),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Repository Path"),r("div",{style:{display:"flex",gap:"12px"}},[r("input",{type:"text",class:"settings-input",id:"add-repo-path",placeholder:"~/code/my-project",style:{flex:"1"}}),r("button",{class:"btn btn-primary",onclick:"addRepoClick()"},"Add")])])]),r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Tracked Repositories"),r("div",{id:"repos-list",class:"repos-list"},[r("div",{class:"loading-text"},"Loading repositories...")])])])])])],-1)),s[12]||(s[12]=Ml('<div id="view-cron" style="display:none;"><div class="tabs-bar"><div class="view-title">Activity</div></div><div class="content-body"><div class="settings-container"><div class="settings-content"><div class="settings-section"><h3 class="settings-section-title">Status</h3><div id="cron-status" class="cron-status-box"><div class="loading-text">Loading cron status...</div></div></div></div></div></div></div>',1)),r("div",od,[r("div",rd,[s[2]||(s[2]=r("div",{class:"view-title"},"Social Posts",-1)),r("div",ld,[r("button",ad,[(Jn(),Gn("svg",cd,[...s[0]||(s[0]=[r("path",{d:"M12 3v3m0 12v3M3 12h3m12 0h3M5.64 5.64l2.12 2.12m8.48 8.48l2.12 2.12m0-12.72l-2.12 2.12m-8.48 8.48l-2.12 2.12"},null,-1)])])),s[1]||(s[1]=ne(" Generate ",-1))])])]),s[3]||(s[3]=r("div",{class:"content-body"},[r("div",{class:"settings-container"},[r("div",{class:"settings-content",style:{"margin-bottom":"24px"}},[r("div",{class:"settings-section"},[r("h3",{class:"settings-section-title"},"Platform Connections"),r("div",{id:"social-connections",class:"social-connections-grid"},[r("div",{class:"loading-text"},"Loading connections...")])])]),r("div",{class:"settings-content"},[r("nav",{class:"settings-nav",id:"social-platform-tabs"},[r("div",{class:"settings-nav-item active","data-platform":"all",onclick:"filterSocialDrafts('all')"},"All"),r("div",{class:"settings-nav-item","data-platform":"twitter",onclick:"filterSocialDrafts('twitter')"},"Twitter"),r("div",{class:"settings-nav-item","data-platform":"linkedin",onclick:"filterSocialDrafts('linkedin')"},"LinkedIn"),r("div",{class:"settings-nav-item","data-platform":"reddit",onclick:"filterSocialDrafts('reddit')"},"Reddit"),r("div",{class:"settings-nav-item","data-platform":"hackernews",onclick:"filterSocialDrafts('hackernews')"},"HN"),r("div",{class:"settings-nav-item","data-platform":"indiehackers",onclick:"filterSocialDrafts('indiehackers')"},"IH")]),r("div",{class:"settings-section"},[r("div",{id:"social-drafts-list",class:"social-drafts-list"},[r("div",{class:"loading-text"},"Loading drafts...")])])])])],-1))])]),s[13]||(s[13]=r("aside",{class:"right-sidebar"},[r("div",{class:"widget"},[r("h3",{class:"widget-title"},"Subscribed Repositories"),r("div",{id:"recommended-repos",class:"widget-list"},[r("div",{class:"loading-text"},"Loading repos...")]),r("button",{class:"btn-text",id:"show-more-repos-btn",onclick:"toggleSubscribedRepos()"},"Show more")]),r("div",{class:"widget"},[r("h3",{class:"widget-title"},"Statistics"),r("div",{class:"stats-grid"},[r("div",{class:"stat-box"},[r("div",{class:"stat-label"},"Total Stories"),r("div",{class:"stat-value",id:"stat-total-stories"},"0")]),r("div",{class:"stat-box"},[r("div",{class:"stat-label"},"Active Repos"),r("div",{class:"stat-value",id:"stat-total-repos"},"0")])])]),r("footer",{class:"right-sidebar-footer"},[r("nav",null,[r("a",{href:"#"},"Terms"),r("a",{href:"#"},"Privacy"),r("a",{href:"#"},"Cookies"),r("span",null," 2026 Repr")])])],-1))])])]),s[16]||(s[16]=r("div",{class:"modal-overlay",id:"edit-repo-modal",onclick:"if(event.target === this) closeModal('edit-repo-modal')"},[r("div",{class:"modal-container"},[r("div",{class:"modal-header"},[r("h3",{class:"modal-title"},"Edit Repository"),r("button",{class:"modal-close",onclick:"closeModal('edit-repo-modal')"},"")]),r("div",{class:"modal-body"},[r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Project Name"),r("div",{class:"editable-field-container"},[r("input",{type:"text",class:"settings-input",id:"edit-repo-name-input",placeholder:"Project Name",onkeydown:"if(event.key === 'Enter') saveRepoEdit()"}),r("span",{class:"editable-field-icon"},"")]),r("div",{class:"settings-hint"},"This name will be used in the timeline and stories")]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Path"),r("input",{type:"text",class:"settings-input",id:"edit-repo-path-input",readonly:"",style:{background:"var(--surface-hover)",color:"var(--text-muted)",cursor:"not-allowed"}})])]),r("div",{class:"modal-footer"},[r("button",{class:"btn btn-secondary",onclick:"closeModal('edit-repo-modal')"},"Cancel"),r("button",{class:"btn btn-primary",id:"save-repo-btn",onclick:"saveRepoEdit()"},"Save Changes")])])],-1)),s[17]||(s[17]=r("div",{class:"modal-overlay",id:"publish-modal",onclick:"if(event.target === this) closeModal('publish-modal')"},[r("div",{class:"modal-container",style:{"max-width":"480px"}},[r("div",{class:"modal-header"},[r("h3",{class:"modal-title"},"Publish Stories"),r("button",{class:"modal-close",onclick:"closeModal('publish-modal')"},"")]),r("div",{class:"modal-body"},[r("div",{id:"publish-preview-info",style:{"margin-bottom":"16px"}},[r("p",{style:{color:"var(--text-muted)","margin-bottom":"8px"}},"Publishing all stories"),r("p",{style:{"font-size":"24px","font-weight":"600"},id:"publish-count"},"0 stories")]),r("div",{id:"publish-preview-list",style:{"max-height":"160px","overflow-y":"auto",border:"1px solid var(--border)","border-radius":"8px","margin-bottom":"16px"}}),r("div",{class:"settings-group",style:{"margin-bottom":"16px"}},[r("label",{style:{display:"flex","align-items":"center",gap:"8px",cursor:"pointer"}},[r("input",{type:"checkbox",id:"publish-include-pushed",onchange:"refreshPublishPreview()"}),r("span",{style:{"font-size":"14px"}},"Include already-published stories")])]),r("div",{class:"settings-group"},[r("label",{class:"settings-label"},"Visibility override (optional)"),r("select",{class:"settings-select",id:"publish-visibility"},[r("option",{value:""},"Keep current visibility"),r("option",{value:"public"},"Public"),r("option",{value:"connections"},"Connections only"),r("option",{value:"private"},"Private")])]),r("div",{id:"publish-result",style:{display:"none",padding:"12px","border-radius":"8px","margin-top":"16px"}})]),r("div",{class:"modal-footer"},[r("button",{class:"btn btn-secondary",onclick:"closeModal('publish-modal')"},"Cancel"),r("button",{class:"btn btn-primary",id:"do-publish-btn",onclick:"doPublish()"},[r("span",{id:"publish-btn-text"},"Publish")])])])],-1))],64))}},jo=pa(dd);jo.use(va());jo.mount("#app");
